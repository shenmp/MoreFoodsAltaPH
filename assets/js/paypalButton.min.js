"use strict";
define("paypalButton", ["core", "lodash", "santaProps", "utils", "reactDOM"], function(e, t, a, i, o) {
    function n(e, t, a) {
        return "userLang" === e ? i.wixUserApi.getLanguage(t, a) : e
    }

    function r(e, t, a) {
        var i = n(e, t, a) || "";
        return u[i.toLowerCase()] || u.en
    }

    function p(e) {
        var t = {};
        return "buy" === e.buttonType ? (t.cmdType = "_xclick", t.buildNotation = "Wix_BuyNow_WPS_IL", t.itemName = e.itemName, t.itemNumber = e.itemID) : (t.cmdType = "_donations", t.buildNotation = "Wix_Donate_WPS_IL", t.itemName = e.organizationName, t.itemNumber = e.organizationID), t
    }
    var m = e.compMixins,
        l = a.Types,
        u = {
            da: {
                image: "da_DK",
                pixel: "da_DK"
            },
            de: {
                image: "de_DE",
                pixel: "de_DE"
            },
            en: {
                image: "en_US",
                pixel: "en_US"
            },
            es: {
                image: "es_ES",
                pixel: "es_ES"
            },
            fr: {
                image: "fr_FR",
                pixel: "fr_FR"
            },
            it: {
                image: "it_IT",
                pixel: "it_IT"
            },
            ja: {
                image: "ja_JP",
                pixel: "ja_JP"
            },
            jp: {
                image: "ja_JP",
                pixel: "ja_JP"
            },
            nl: {
                image: "nl_NL",
                pixel: "nl_NL"
            },
            no: {
                image: "no_NO",
                pixel: "en_US"
            },
            pl: {
                image: "pl_PL",
                pixel: "pl_PL"
            },
            pt: {
                image: "pt_BR",
                pixel: "pt_BR"
            },
            ru: {
                image: "ru_RU",
                pixel: "en_US"
            },
            sv: {
                image: "sv_SE",
                pixel: "sv_SE"
            },
            tr: {
                image: "tr_TR",
                pixel: "tr_TR"
            }
        };
    return {
        displayName: "PayPalButton",
        mixins: [m.skinBasedComp],
        propTypes: {
            compData: l.Component.compData,
            compProp: l.Component.compProp,
            currentUrl: l.currentUrl,
            cookie: l.RequestModel.cookie
        },
        statics: {
            useSantaTypes: !0
        },
        onImageChanged: function() {
            this.registerReLayout(), this.forceUpdate()
        },
        submitForm: function() {
            o.findDOMNode(this.refs.form).submit()
        },
        getSkinProperties: function() {
            var e = this.props,
                a = p(e.compProp),
                i = r(e.compProp.language, e.cookie, e.currentUrl),
                o = e.currentUrl.full,
                n = e.compProp.amount;
            return {
                form: {
                    target: e.compProp.target
                },
                cmd: {
                    value: a.cmdType
                },
                item_name: {
                    value: a.itemName
                },
                item_number: {
                    value: a.itemNumber
                },
                bn: {
                    value: a.buildNotation
                },
                business: {
                    value: e.compData.merchantID
                },
                currency_code: {
                    value: e.compProp.currencyCode
                },
                notify_url: {
                    value: "https://inventory.wix.com/ecommerce/ipn/paypal"
                },
                return: {
                    value: o
                },
                cancel_return: {
                    value: o
                },
                amount: {
                    value: parseFloat(n, 10) > 0 ? n : void 0
                },
                trackingPixel: {
                    src: t.template("https://www.paypalobjects.com/${locale}/i/scr/pixel.gif")({
                        locale: i.pixel
                    })
                },
                submitImage: {
                    src: t.template("https://www.paypalobjects.com/${locale}/i/btn/btn_${buttonType}${showCreditCards}${buttonSize}.gif")({
                        locale: i.image,
                        buttonType: "buy" === e.compProp.buttonType ? "buynow" : "donate",
                        showCreditCards: e.compProp.showCreditCards && !e.compProp.smallButton ? "CC" : "",
                        buttonSize: e.compProp.smallButton ? "_SM" : "_LG"
                    }),
                    onLoad: this.onImageChanged,
                    onClick: this.submitForm
                }
            }
        }
    }
});
//# sourceMappingURL=paypalButton.min.js.map