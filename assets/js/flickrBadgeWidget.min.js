"use strict";
define("flickrBadgeWidget", ["core", "utils", "santaProps"], function(t, e, i) {
    var s = t.compMixins,
        a = e.urlUtils;
    return {
        displayName: "FlickrBadgeWidget",
        mixins: [s.skinBasedComp],
        propTypes: {
            style: i.Types.Component.style.isRequired,
            id: i.Types.Component.id.isRequired,
            compData: i.Types.Component.compData.isRequired,
            santaBase: i.Types.santaBase.isRequired,
            origin: i.Types.Location.origin
        },
        statics: {
            useSantaTypes: !0
        },
        getInitialState: function() {
            return {
                width: this.props.style.width,
                height: this.props.style.height
            }
        },
        componentDidMount: function() {
            window.addEventListener("message", this.processMessage)
        },
        componentWillUnmount: function() {
            window.removeEventListener("message", this.processMessage)
        },
        processMessage: function(t) {
            t.data && t.data.compId === this.props.id && (this.registerReLayout(), this.setState(t.data.size))
        },
        getFlickSrc: function() {
            var t = this.props.compData,
                e = {
                    imageCount: t.imageCount,
                    whichImages: t.whichImages,
                    imageSize: t.imageSize,
                    layoutOrientation: t.layoutOrientation,
                    userId: t.userId,
                    tag: t.tag,
                    origin: this.props.origin,
                    compId: this.props.id
                };
            return this.props.santaBase + "/static/external/flickrBadgeWidget.html?" + a.toQueryString(e)
        },
        getSkinProperties: function() {
            return {
                "": {
                    style: {
                        width: this.state.width,
                        height: this.state.height
                    }
                },
                iframe: {
                    "data-src": this.getFlickSrc(),
                    height: this.state.height,
                    width: this.state.width
                },
                overlayClick: {
                    href: "http://www.flickr.com/photos/" + this.props.compData.userId + "/",
                    target: "_blank"
                }
            }
        }
    }
});
//# sourceMappingURL=flickrBadgeWidget.min.js.map