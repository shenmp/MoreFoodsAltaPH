"use strict";
var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
    return typeof e
} : function(e) {
    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
};
define("siteUtils/utils/mobileUtils", [], function() {
    function e(e) {
        var t = n,
            i = Math.round(e);
        return i < t ? t : i <= 14 ? i + 1 : i <= 25 ? i : i <= 100 ? r[i] : 50
    }

    function t(e, t) {
        return t * this.getMobileFontSize(e)
    }

    function i() {
        return n
    }
    var n = 12,
        r = {
            26: 26,
            27: 26,
            28: 26,
            29: 27,
            30: 27,
            31: 27,
            32: 28,
            33: 28,
            34: 28,
            35: 29,
            36: 29,
            37: 29,
            38: 30,
            39: 30,
            40: 30,
            41: 31,
            42: 31,
            43: 31,
            44: 32,
            45: 32,
            46: 32,
            47: 33,
            48: 33,
            49: 33,
            50: 34,
            51: 34,
            52: 34,
            53: 35,
            54: 35,
            55: 35,
            56: 36,
            57: 36,
            58: 36,
            59: 37,
            60: 37,
            61: 37,
            62: 38,
            63: 38,
            64: 38,
            65: 39,
            66: 39,
            67: 39,
            68: 40,
            69: 40,
            70: 40,
            71: 41,
            72: 41,
            73: 41,
            74: 42,
            75: 42,
            76: 42,
            77: 43,
            78: 43,
            79: 43,
            80: 44,
            81: 44,
            82: 44,
            83: 45,
            84: 45,
            85: 45,
            86: 46,
            87: 46,
            88: 46,
            89: 47,
            90: 47,
            91: 47,
            92: 48,
            93: 48,
            94: 48,
            95: 49,
            96: 49,
            97: 49,
            98: 50,
            99: 50,
            100: 50
        };
    return {
        getMobileFontSize: e,
        convertFontSizeToMobile: t,
        getMinFontSize: i
    }
}), define("siteUtils/utils/touchMediaZoomUtils", ["lodash", "coreUtils", "imageClientApi"], function(e, t, i) {
    function n(e) {
        return {
            leftPart_leftMargin: r(e, 0),
            leftPart_begin: o(e, 0),
            leftPart_rightMargin: a(e, 0),
            centerPart_leftMargin: r(e, 1),
            centerPart_begin: o(e, 1),
            centerPart_rightMargin: a(e, 1),
            rightPart_leftMargin: r(e, 2),
            rightPart_begin: o(e, 2),
            rightPart_rightMargin: a(e, 2),
            fullWidth: o(e, 3)
        }
    }

    function r(e, t) {
        return t * (1 + e)
    }

    function o(e, t) {
        return t * (1 + e) + e
    }

    function a(e, t) {
        return t * (1 + e) + 2 * e
    }

    function s(e, t) {
        var i = Math.min(t.width / e.width, 1),
            n = Math.min(t.height / e.height, 1),
            r = Math.min(i, n);
        return {
            width: Math.round(e.width * r),
            height: Math.round(e.height * r)
        }
    }

    function u(n, r, o) {
        var a = i.fittingTypes.SCALE_TO_FIT,
            u = {
                id: n.uri,
                width: n.width,
                height: n.height
            },
            l = s(e.pick(n, ["width", "height"]), r.screenSize),
            c = {
                width: Math.round(l.width * (o || 1)),
                height: Math.round(l.height * (o || 1))
            },
            d = {
                width: c.width,
                height: c.height,
                alignment: i.alignTypes.CENTER,
                htmlTag: "img",
                pixelAspectRatio: r.pixelAspectRatio
            },
            g = e.defaults({
                quality: 85
            }, n.quality || {}),
            h = i.getData(a, u, d, g, r.browser);
        return e.assign(h.css.img, l, {
            objectFix: "internal"
        }), e.assign(h, {
            uri: t.urlUtils.joinURL(r.staticMediaUrl, h.uri)
        }), h
    }
    return {
        createStageData: n,
        getImageApiData: u
    }
}), define("siteUtils/svgShapes/svgFeatureDetection", ["lodash"], function(e) {
    function t() {
        return e.clone(i)
    }
    var i = {
        isVectorEffect: !1
    };
    return "undefined" != typeof document && function(e) {
        e.isVectorEffect = "vectorEffect" in window.document.documentElement.style
    }(i), {
        flags: t
    }
}), define("siteUtils/core/MobileDeviceAnalyzer", ["lodash"], function(e) {
    function t(e, t) {
        return Math.abs(e - t) < s
    }

    function i(e, t) {
        return e > t + s
    }

    function n(e) {
        if (e !== u) switch (u = e, !0) {
            case /(GT-S5300B|GT-S5360|GT-S5367|GT-S5570I|GT-S6102B|LG-E400f|LG-E400g|LG-E405f|LG-L38C|LGL35G)/i.test(e):
                l = {
                    width: 240,
                    height: 320
                };
                break;
            case /(Ls 670|GT-S5830|GT-S5839i|GT-S6500D|GT-S6802B|GT-S7500L|H866C|Huawei-U8665|LG-C800|LG-MS695|LG-VM696|LGL55C|M865|Prism|SCH-R720|SCH-R820|SCH-S720C|SPH-M820-BST|SPH-M930BST|U8667|X501_USA_Cricket|ZTE-Z990G)/i.test(e):
                l = {
                    width: 320,
                    height: 480
                };
                break;
            case /(5860E|ADR6300|ADR6330VW|ADR8995|APA9292KT|C771|GT-I8160|GT-I9070|GT-I9100|HTC-A9192|myTouch4G|N860|PantechP9070|PC36100|pcdadr6350|SAMSUNG-SGH-I727|SAMSUNG-SGH-I777|SAMSUNG-SGH-I997|SC-03D|SCH-I405|SCH-I500|SCH-I510|SCH-R760|SGH-S959G|SGH-T679|SGH-T769|SGH-T959V|SGH-T989|SPH-D700)/i.test(e):
                l = {
                    width: 480,
                    height: 800
                };
                break;
            case /(DROIDX|SonyEricssonSO-02C|SonyEricssonST25i)/i.test(e):
                l = {
                    width: 480,
                    height: 854
                };
                break;
            case /(DROID3|MB855)/i.test(e):
                l = {
                    width: 540,
                    height: 960
                };
                break;
            case /F-05D/i.test(e):
                l = {
                    width: 720,
                    height: 1280
                };
                break;
            default:
                l = null
        }
        return l
    }

    function r(e) {
        var t, i, n, r, o = e.match(/applewebkit\/([\d\.]+)/i);
        return o ? (t = o[1].split("."), i = +(t[0] || 0), n = +(t[1] || 0), r = +(t[2] || 0), 1e4 * i + 100 * n + r) : NaN
    }

    function o(t) {
        this.requestModel = t, e.bindAll(this, e.functionsIn(this))
    }
    var a = {
            MOBILE: "smartphone",
            TABLET: "tablet",
            DESKTOP: "desktop",
            OTHER: "other"
        },
        s = 1e-4,
        u = "",
        l = null;
    return o.prototype = {
        isMobileDevice: function() {
            return this.isWindowUnavailable() || this.isSSSR() ? e.result(this, "requestModel.deviceType.toLowerCase") === a.MOBILE : (this.isLandscape() ? this.getScreenHeight() : this.getScreenWidth()) < 600 && (this.isTouchScreen() || this.isMSMobileDevice())
        },
        isTabletDevice: function() {
            if (this.isWindowUnavailable()) return !(!this.requestModel || !this.requestModel.deviceType || this.requestModel.deviceType.toLowerCase() !== a.TABLET);
            var e = this.isPortrait() ? this.getScreenHeight() : this.getScreenWidth();
            return !this.isMobileDevice() && e >= 600 && e <= 1280 && this.isTouchScreen()
        },
        getWindowScreenWidth: function() {
            return window.screen.width
        },
        getScreenWidth: function() {
            var e = this._getDeviceParamsByUserAgent();
            return e ? e.width : NaN
        },
        getScreenHeight: function() {
            var e = this._getDeviceParamsByUserAgent();
            return e ? e.height : NaN
        },
        isAppleMobileDevice: function() {
            return /iphone|ipod|ipad|Macintosh/i.test(this.requestModel.userAgent)
        },
        isMSMobileDevice: function() {
            return /iemobile/i.test(this.requestModel.userAgent)
        },
        isAndroidMobileDevice: function() {
            return /android/i.test(this.requestModel.userAgent)
        },
        cannotHideIframeWithinRoundedCorners: function() {
            return r(this.requestModel.userAgent) < 537e4
        },
        isNewChromeOnAndroid: function() {
            if (this.isAndroidMobileDevice()) {
                var e = this.requestModel.userAgent.toLowerCase();
                if (/chrome/.test(e)) {
                    var t = e.split("chrome/")[1].split(" ")[0].split(".")[0];
                    if (parseInt(t, 10) >= 29) return !0
                }
            }
            return !1
        },
        isTouchScreen: function() {
            return this.isWindowUnavailable() ? this.isMobileDevice() || this.isTabletDevice() : !!("ontouchstart" in window || window.DocumentTouch && window.document instanceof DocumentTouch)
        },
        isLandscape: function() {
            return !this.isPortrait()
        },
        isPortrait: function() {
            if (this.isWindowUnavailable()) return !0;
            if (window.screen && this.isTopWindow()) {
                var t = window.screen.orientation;
                if (t) return t.type ? e.startsWith(t.type, "portrait") : 0 === t.angle || 180 === t.angle
            }
            return this.isPortraitByScreenSize()
        },
        isPortraitByScreenSize: function() {
            return !!this.isWindowUnavailable() || window.innerHeight > window.innerWidth
        },
        isAndroidOldBrowser: function() {
            var e = this.isNewChromeOnAndroid(),
                t = /opr/i.test(this.requestModel.userAgent);
            return this.isAndroidMobileDevice() && !e && !t
        },
        getDevicePixelRatio: function() {
            return this.isWindowUnavailable() ? 2 : this.isMSMobileDevice() ? Math.round(window.screen.availWidth / (window.screen.width || window.document.documentElement.clientWidth)) : window.devicePixelRatio
        },
        getInitZoom: function() {
            return this.getScreenWidth() / window.document.body.offsetWidth
        },
        getZoom: function() {
            return this.isWindowUnavailable() ? 1 : this.getScreenWidth() / this.getWindowInnerWidth()
        },
        isZoomed: function() {
            return !this.isWindowUnavailable() && !t(this.getZoom(), this.getInitZoom())
        },
        isZoomedIn: function() {
            return !this.isWindowUnavailable() && i(this.getZoom(), this.getInitZoom())
        },
        getMobileZoomByScreenProperties: function() {
            if (this.isWindowUnavailable()) return 1;
            var e = 1,
                t = this.getScreenDimensions(),
                i = Math.max(t.width, t.height),
                n = Math.min(t.width, t.height);
            return this.isMobileDevice() && !this.isPortraitByScreenSize() && (e = n / i), e
        },
        getSiteZoomRatio: function() {
            return this.isWindowUnavailable() ? 1 : 320 / window.screen.width
        },
        getInvertedZoomRatio: function() {
            return this.isWindowUnavailable() ? 1 : 1 / this.getZoom()
        },
        getOrientationZoomFixRation: function() {
            return this.getInitZoom() / this.getZoom()
        },
        getZoomRatioForNonOptimizedSites: function() {
            return this.isWindowUnavailable() ? 1 : window.innerWidth / 320
        },
        _getDeviceParamsByUserAgent: function() {
            var t = e.get(this.requestModel, ["userAgent"], "");
            if (this.isWindowUnavailable() || !t) return null;
            var i, r, o = this.getScreenDimensions();
            if (/iemobile/i.test(t)) i = o.width || window.document.documentElement.clientWidth, r = o.height || window.document.documentElement.clientHeight;
            else {
                var a = n(t);
                a ? (i = a.width, r = a.height) : this.isPortrait() ? (i = Math.min(o.width, o.height), r = Math.max(o.width, o.height)) : (i = Math.max(o.width, o.height), r = Math.min(o.width, o.height))
            }
            return {
                width: i,
                height: r
            }
        },
        getScreenDimensions: function() {
            return this.isWindowUnavailable() ? {
                width: 0,
                availWidth: 0,
                height: 0,
                availHeight: 0
            } : {
                width: window.screen.width,
                availWidth: window.screen.availWidth,
                height: window.screen.height,
                availHeight: window.screen.availHeight
            }
        },
        isWindowUnavailable: function() {
            return "undefined" == typeof window
        },
        isTopWindow: function() {
            var e;
            try {
                e = window.self === window.top
            } catch (t) {
                e = !1
            }
            return this.isTopWindow = function() {
                return e
            }, e
        },
        isSSSR: function() {
            return "undefined" != typeof window && !e.get(window, "clientSideRender", !0)
        },
        getWindowInnerWidth: function() {
            return window.innerWidth
        }
    }, o
}), define("siteUtils/core/dataRefs.json", [], function() {
    return {
        Data: {
            BackgroundMedia: {
                mediaRef: !1,
                imageOverlay: !1
            },
            WixVideo: {
                posterImageRef: !1
            },
            Document: {
                mainPage: !1,
                pages: !1
            },
            Header: {
                image: !1
            },
            Image: {
                link: !1,
                originalImageDataRef: !1
            },
            Bgimagestrip: {
                originalImageDataRef: !1
            },
            StripContainer: {
                background: !1
            },
            ImageList: {
                items: !1
            },
            LinkList: {
                items: !1
            },
            AnchorLink: {
                anchorDataId: !0,
                pageId: !1
            },
            PageLink: {
                pageId: !1
            },
            MediaRichText: {
                linkList: !1,
                componentDataList: !1
            },
            MenuItem: {
                refId: !1
            },
            Page: {
                pageBackgrounds: {
                    desktop: {
                        ref: !1
                    },
                    mobile: {
                        ref: !1
                    }
                }
            },
            RichTextImage: {
                text: !1,
                image: !1
            },
            Service: {
                image: !1
            },
            ServiceList: {
                items: !1
            },
            BasicMenuItem: {
                link: !1,
                items: !1
            },
            CustomMenu: {
                items: !1
            },
            Menu: {
                items: !1
            },
            CustomMenusCollection: {
                menus: !1
            },
            MenuDataRef: {
                menuRef: !1
            },
            ImageButton: {
                link: !1,
                defaultImage: !1,
                hoverImage: !1,
                activeImage: !1
            },
            SubscribeForm: {
                link: !1
            },
            ContactForm: {
                link: !1
            },
            DynamicContactForm: {
                link: !1
            },
            FlashComponent: {
                placeHolderImage: !1
            },
            LinkableFlashComponent: {
                link: !1,
                placeHolderImage: !1
            },
            LinkableButton: {
                link: !1
            },
            MenuData: {
                menuButton: !1,
                pages: !1
            },
            PermaLink: {
                dataItemRef: !1,
                correctPermaLinkRef: !1
            },
            SelectableList: {
                options: !1
            },
            RadioGroup: {
                options: !1
            },
            StyledText: {
                linkList: !1
            },
            StyledTextLinkHelper: {
                link: !1
            },
            SvgShape: {
                link: !1
            },
            Table: {
                items: !1,
                header: !1,
                footer: !1
            },
            Video: {
                posterImage: !1
            },
            TPAWidget: {
                tpaData: !1
            },
            TPA: {
                tpaData: !1
            },
            TPASection: {
                tpaData: !1
            },
            TPAMultiSection: {
                tpaData: !1
            },
            RssButton: {
                image: !1,
                link: !1
            },
            AppPage: {
                pageBackgrounds: {
                    desktop: {
                        ref: !1
                    },
                    mobile: {
                        ref: !1
                    }
                }
            },
            StripContainerSlideShowSlide: {
                background: !1
            },
            ImageButtonWithText: {
                icon: !1
            }
        },
        Design: {
            MediaContainerDesignData: {
                background: !1
            },
            MediaPlayerDesignData: {
                background: !1
            },
            BackgroundMedia: {
                mediaRef: !1,
                imageOverlay: !1
            },
            WixVideo: {
                posterImageRef: !1
            },
            Video: {
                posterImage: !1
            },
            Image: {
                link: !1,
                originalImageDataRef: !1
            }
        },
        Properties: {
            ColumnProperties: {
                background: !1
            }
        }
    }
}), define("siteUtils/customDataResolvers/imageDataResolver", ["lodash"], function(e) {
    function t(t, n) {
        var r = {};
        t.link && (r.link = n(t.link)), t.originalImageDataRef && (r.originalImageDataRef = n(t.originalImageDataRef));
        var o = e.pick(n("IMAGE_QUALITY"), i);
        return e.isEmpty(t.quality) && !e.isEmpty(o) && (r.quality = o), e.isEmpty(r) ? t : e.defaults(r, t)
    }
    var i = ["quality", "unsharpMask"];
    return {
        resolve: t
    }
}), define("siteUtils/customDataResolvers/pageLinkDataResolver", ["lodash"], function(e) {
    function t(t, i) {
        return e.defaults({
            pageId: i(t.pageId, "masterPage")
        }, t)
    }
    return {
        resolve: t
    }
}), define("siteUtils/customDataResolvers/anchorLinkDataResolver", ["lodash"], function(e) {
    function t(t, i) {
        var n = e.startsWith(t.pageId, "#") ? t.pageId.replace("#", "") : t.pageId,
            r = i(t.anchorDataId, n),
            o = i(t.pageId, "masterPage"),
            a = e.pickBy({
                anchorDataId: r,
                pageId: o
            });
        return e.defaults(a, t)
    }
    return {
        resolve: t
    }
}), define("siteUtils/customDataResolvers/connectionListDataResolver", ["lodash"], function(e) {
    function t(t) {
        var i = e.map(e.get(t, "items"), function(t) {
            return e.has(t, "config") ? e.assign({}, t, {
                config: JSON.parse(t.config)
            }) : t
        });
        return e.assign({}, t, {
            items: i
        })
    }
    return {
        resolve: t
    }
}), define("siteUtils/customDataResolvers/appControllerDataResolver", ["lodash"], function(e) {
    function t(t) {
        return e.has(t, "settings") ? e.assign({}, t, {
            settings: JSON.parse(t.settings)
        }) : t
    }
    return {
        resolve: t
    }
}), define("siteUtils/customDataResolvers/behaviorsListDataResolver", ["lodash"], function(e) {
    function t(t) {
        var i = e.get(t, "items");
        return e.isString(i) ? e.assign({}, t, {
            items: JSON.parse(i)
        }) : t
    }
    return {
        resolve: t
    }
}), define("siteUtils/customDataResolvers/customDataResolvers", ["lodash", "siteUtils/customDataResolvers/imageDataResolver", "siteUtils/customDataResolvers/pageLinkDataResolver", "siteUtils/customDataResolvers/anchorLinkDataResolver", "siteUtils/customDataResolvers/connectionListDataResolver", "siteUtils/customDataResolvers/appControllerDataResolver", "siteUtils/customDataResolvers/behaviorsListDataResolver"], function(e, t, i, n, r, o, a) {
    return {
        Image: t,
        PageLink: i,
        AnchorLink: n,
        ConnectionList: r,
        AppController: o,
        ObsoleteBehaviorsList: a
    }
}), define("siteUtils/core/dataResolver", ["lodash", "siteUtils/core/dataRefs.json", "siteUtils/customDataResolvers/customDataResolvers", "multilingual", "experiment"], function(e, t, i, n, r) {
    function o(t, n, r, o, a) {
        function s(e, t) {
            var i = "masterPage" === (t = t || n) ? r : g;
            return u.call(l, o, r, i, t, a, e)
        }
        var l = this;
        return e.get(i, [t.type, "resolve"])(t, s)
    }

    function a(i, n, r, o, s) {
        function u(e) {
            return null === e.id ? e.data : "#" + e.id
        }
        if ("object" !== (void 0 === i ? "undefined" : _typeof(i)) || null === i) return {
            id: null,
            data: i
        };
        var l = t[d[n]],
            c = e.isUndefined(s) || e.isBoolean(s),
            g = s;
        if (c) {
            if (e.isArray(i)) return e.map(i, function(e) {
                return a(e, n, r, o, s)
            });
            if (!i.type) throw new Error("we need a type to resolve a data item", i);
            g = e.get(l, i.type, {})
        }
        var h = {};
        e.forOwn(g, function(t, s) {
            if (!e.isUndefined(i[s])) {
                var l = a(i[s], n, r, o, t);
                h[s] = e.isArray(l) ? e.map(l, u) : u(l)
            }
        });
        var f = e.isEmpty(h) ? i : e.defaults(h, i),
            p = null;
        if (c) {
            if (!f.id) {
                var m = e.isFunction(r) ? r() : e.uniqueId("resolver_");
                f = e.defaults({
                    id: m
                }, f)
            }
            p = f.id, o[p] = f
        }
        return {
            id: p,
            data: f
        }
    }

    function s(e) {
        return !e || !0 === e
    }

    function u(a, l, c, g, h, f, p) {
        var m = t[d[h]],
            v = null;
        if (e.isUndefined(f)) return null;
        if (e.isPlainObject(f)) return e.has(i, f.type) ? v = o.call(this, f, g, l, a, h) : (p = s(p) ? e.get(m, f.type, {}) : p, v = e.mapValues(p, function(e, t) {
            var i = u.call(this, a, l, c, g, h, f[t], e);
            return i || !0 !== e ? i : f[t]
        }.bind(this))), e.defaults(v, f);
        if (e.isArray(f)) return e.map(f, function(e) {
            return u.call(this, a, l, c, g, h, e)
        }.bind(this));
        e.startsWith(f, "#") && (f = f.slice(1));
        var y, S = g,
            w = [g, "data", h, f];
        if (r.isOpen("sv_multilingual", this.experimentContext)) {
            var P = n.getCurrentLanguage(),
                I = n.getTranslationPath(P, w);
            e.has(a, I) ? (v = e.get(a, I), y = [S, P, h, f]) : (v = e.get(a, w), y = [S, h, f])
        } else v = e.get(a, w), y = [S, h, f];
        if (!v && (e.forEach(c, function(t) {
                return !(v = e.get(a, [t, "data", h, f]))
            }), !v)) return null;
        var b = this.readingFromCache && e.get(this.cache, y);
        if (b) return b;
        if (e.has(i, v.type)) v = o.call(this, v, g, l, a, h);
        else {
            if (p = s(p) ? e.get(m, v.type) : p, s(p)) return v;
            v = e.assign({}, v), e.forEach(p, function(t, i) {
                if (e.has(v, i)) {
                    var n = u.call(this, a, l, c, g, h, v[i], t);
                    !n && t || (v[i] = n)
                }
            }.bind(this))
        }
        return e.set(this.cache, y, v), v
    }

    function l(t, i, n, r, o) {
        if (!e.has(t, [n, "data"])) return {};
        var a = "masterPage" === n ? i : ["masterPage"];
        return u.call(this, t, i, a, n, r, o, null)
    }

    function c(e) {
        this.cache = {}, this.readingFromCache = !0, this.experimentContext = e
    }
    var d = {
            component_properties: "Properties",
            document_data: "Data",
            design_data: "Design"
        },
        g = ["masterPage"];
    return c.prototype = {
        getDataByQuery: l,
        clearCache: function() {
            this.cache = {}
        },
        removeItemsFromCache: function(t, i, n) {
            e.forEach(n, function(n) {
                e.set(this.cache, [t, i, n]), e.set(this.cache, ["masterPage", i, n])
            }.bind(this))
        },
        setReadingFromCache: function(e) {
            this.readingFromCache = Boolean(e)
        },
        getFlatMapOfNestedItem: function(e, t, i) {
            var n = {};
            return a(e, t, i, n), n
        }
    }, c
}), define("siteUtils/core/pagesUrlUtils", ["lodash", "coreUtils", "experiment"], function(e, t, i) {
    function n(i) {
        return e.has(i, ["publicModel", "pageList"]) ? e(i.publicModel.pageList.pages).keyBy(function(n) {
            return e.get(i, ["urlFormatModel", "pageIdToResolvedUriSEO", n.pageId, "curr"]) || e.get(n, "pageUriSEO") || t.siteConstants.DEFAULT_PAGE_URI_SEO
        }).mapValues("pageId").value() : {}
    }

    function r(t) {
        return e.isArray(t) ? e.zipObject(t, e.times(t.length, e.constant(!0))) : t
    }

    function o(e) {
        var n = e.urlFormatModel || {};
        i.isOpen("urlFormat", e) ? n.format = t.siteConstants.URL_FORMATS.SLASH : n.format = n.format || t.siteConstants.URL_FORMATS.HASH_BANG, n.forbiddenPageUriSEOs = r(n.forbiddenPageUriSEOs || []), n.pageIdToResolvedUriSEO = n.pageIdToResolvedUriSEO || {}, e.urlFormatModel = n
    }

    function a(t, i) {
        return e.map(t.topology, function(e) {
            return e.baseUrl + e.parts.replace("{filename}", i)
        })
    }

    function s(t, i) {
        var n = e.find(t.pages, {
            pageId: i
        });
        if (n) return a(t, n.pageJsonFileName)
    }

    function u(e) {
        return a(e, e.masterPageJsonFileName)
    }
    return {
        ensureUrlFormatModel: o,
        getMapFromPageUriSeoToPageId: n,
        getPageURLs: s,
        getMasterPageURLs: u
    }
}), define("siteUtils/core/browserFlags", [], function() {
    return {
        create: function(e) {
            var t = e.os,
                i = e.browser;
            return t && i ? {
                highlightAnchorsInMenu: !(t.ipad && i.chrome),
                fixedSiteBackground: !t.tablet && !t.phone || t.ipad && i.safari || (i.ie || i.edge) && t.tablet,
                animateRevealScrubAction: !!(i.ie || i.edge || i.firefox),
                animateParallaxScrubAction: !!i.edge,
                animateTinyMenuIcon: !(i.safari && t.mac),
                preserve3DParallaxScrubAction: !(i.safari && i.version >= 9 || i.firefox),
                fixedBackgroundColorBalata: !(!i.chrome && !i.firefox),
                forceOverflowScroll: !!t.iphone,
                fixOverflowScrollEdges: t.iphone || i.safari,
                doubleResetMobileViewport: e.tpaMobileViewportFix && i.chrome && !t.iphone && !t.ipad,
                shouldDisableSmoothScrolling: !(!i.chrome && !i.edge)
            } : {}
        }
    }
}), define("siteUtils/core/ViewPortImageLoader", ["lodash", "loggingUtils", "experiment"], function(e, t, i) {
    function n(t, i, n, r, o, s) {
        var u = !s && o;
        !i[r] || u ? (a(t, n, r, s, o), i[r] = e.debounce(a, g, {
            trailing: !0
        })) : i[r](t, n, r, s, o)
    }

    function r(e, t, i, n) {
        var r = i + n,
            o = t || 0,
            a = o + e.height;
        return i >= o && i <= a || r >= o && r <= a || i <= o && r >= a
    }

    function o(e, t, i, n, r) {
        e.events(t + d, {
            onload: n,
            onerror: r
        }), e.attr(t + d, {
            src: i
        })
    }

    function a(t, i, n, r, a) {
        if (a && a !== r) {
            var s = new Promise(e.partial(o, i, n, a));
            t[n] = e.assign(t[n], {
                promise: s
            })
        }
    }

    function s(e, t) {
        return Math.max(Math.floor(e / t), 0)
    }

    function u(t, i, n, r, o, a, u) {
        t[n] = e.assign({}, t[n], {
            oldSrc: u,
            viewPortIndex: s(r, o),
            src: a,
            id: n,
            patchers: i
        })
    }

    function l(t) {
        e(t).pickBy(function(e) {
            return e.viewPortIndex > 0
        }).map(function(e) {
            return a(t, e.patchers, e.id, e.oldSrc, e.src)
        }).value()
    }

    function c(e, t) {
        this.getScreenSize = e, this.imageResizeHandlers = {}, this.imagesToLoad = {}, this.scrollTop = t
    }
    var d = "image",
        g = 250;
    return c.prototype = {
        loadImage: function(e) {
            var t = this.getScreenSize(),
                o = e.patchers,
                a = e.id,
                s = e.src,
                l = e.absoluteTop,
                c = e.height,
                d = e.currentSrc;
            u(this.imagesToLoad, o, a, l, t.height, s, d), i.isOpen("viewPortImageLoading") && !r(t, this.scrollTop, l, c) || n(this.imagesToLoad, this.imageResizeHandlers, o, a, s, d)
        },
        removeImage: function(e) {
            delete this.imagesToLoad[e], delete this.imageResizeHandlers[e]
        },
        loadAllImages: function(n) {
            if (i.isOpen("viewPortImageLoading")) {
                var r = e(this.imagesToLoad).filter({
                    viewPortIndex: 0
                }).filter(function(t) {
                    return e.has(t, "promise")
                }).value();
                return i.isMultiValueExperimentOpen("viewPortImageLoadingBi") && t.imagesBi(n, r), r = e.map(r, function(e) {
                    return new Promise(function(t) {
                        return e.promise.then(t).catch(t)
                    })
                }), Promise.all(r).then(e.partial(l, this.imagesToLoad))
            }
        }
    }, c
}), define("siteUtils/core/siteStructureRmiUtils", ["lodash"], function(e) {
    function t(t) {
        return e.map(f(t), function(e) {
            return {
                name: e.appDefinitionName,
                applicationId: e.appDefinitionId
            }
        })
    }

    function i(t) {
        var i = e.filter(t, "applicationId");
        return e.map(i, function(e) {
            return {
                name: e.name,
                type: w,
                prefix: e.url,
                applicationId: e.applicationId
            }
        })
    }

    function n(e) {
        return l(u(e))
    }

    function r(t, i) {
        var n = a(t, i),
            r = e.filter(n, {
                isPopup: !0
            });
        return e.map(r, function(e) {
            return {
                name: e.title,
                id: e.id
            }
        })
    }

    function o(t, i, n, r, o) {
        var l = a(t, o),
            c = e.filter(l, function(e) {
                return !r(e.id)
            }),
            d = u(i),
            g = e.map(c, function(e) {
                return s(e, d[e.id], n)
            });
        return e.compact(g)
    }

    function a(t, i) {
        var n = e.map(t.pages, "pageId");
        return e.map(n, function(e) {
            return i(e)
        })
    }

    function s(t, i, n) {
        var r = t.pageUriSEO,
            o = t.tpaApplicationId || t.appInnerID,
            a = {
                name: t.title,
                id: t.id,
                type: S
            };
        if (r && !e.startsWith(r, "blank") && (a.url = "/" + t.pageUriSEO), o) {
            a.type = y;
            var s = n[o];
            if (a.applicationId = e.get(s, "appDefinitionId"), t.tpaApplicationId && !h(s)) return null
        }
        return i && (a.type = y, a.prefix = i.value), a
    }

    function u(t) {
        var i = e.reduce(t.configMap, function(t, i, n) {
            var r = e.values(i.pages);
            return e.forEach(r, function(e) {
                t[e] = {
                    value: i.prefix,
                    id: n,
                    type: c(i)
                }
            }), t
        }, {});
        return t ? i : {}
    }

    function l(t) {
        return e.map(t, function(e) {
            return {
                name: e.value,
                type: e.type,
                id: e.id,
                prefix: "/" + e.value
            }
        })
    }

    function c(e) {
        return "wix-code" === e.appDefinitionId ? m : v
    }

    function d(t) {
        var i = t && t.widgets;
        return i = e.filter(i, function(t) {
            return !e.isNil(t.appPage)
        }), e.filter(i, g)
    }

    function g(e) {
        var t = e.published,
            i = e.santaEditorPublished;
        return t || i
    }

    function h(t) {
        var i = d(t);
        return e.some(i, function(e) {
            return !e.appPage.hidden
        })
    }

    function f(t) {
        return e.filter(t, function(e) {
            return "public" === e.type || "wixapps" === e.type
        })
    }

    function p(t, i) {
        return t ? e.get(t, ["pageList"]) : {
            pages: e.reject(e.map(i, function(e) {
                return {
                    pageId: e.structure.id
                }
            }), {
                pageId: "masterPage"
            })
        }
    }
    var m = "router",
        v = "dynamicPages",
        y = "template",
        S = "static",
        w = "app";
    return {
        getPageList: p,
        getPages: o,
        getApps: t,
        getRouterPrefixes: n,
        getAppPrefixes: i,
        getLightboxes: r,
        clientSpecMap: {
            hasMainSection: h
        }
    }
}), define("siteUtils/core/SiteDataRmi", ["lodash", "coreUtils", "siteUtils/core/siteStructureRmiUtils"], function(e, t, i) {
    function n() {
        return e.omit(this.currentUrl.query, l)
    }

    function r() {
        var e = !!!this.documentServicesModel || this.documentServicesModel.isPublished,
            i = "http://yoursitename.wixsite.com/yoursitename",
            n = t.urlUtils.toQueryString(this.getQueryParams());
        n && (i = i + "?" + n);
        var r = this.getPrimaryPageId(),
            o = this.getRootNavigationInfo(),
            a = this.getPublicBaseUrl(),
            s = {
                currentPageId: r,
                currentNavigationInfo: o,
                baseUrl: a,
                currentPageFullUrl: i
            };
        return e && (this.isDynamicPage(r) ? s.currentPageFullUrl = this.getPageUrl(o, null, a, !1) : s.currentPageFullUrl = this.getPageUrl({
            pageId: r,
            title: this.getDataByQuery(r).title
        }, null, a, !1)), s
    }

    function o() {
        var e = i.getPageList(this.publicModel, this.pagesData),
            t = this.routers || {},
            n = i.getPages(e, t, this.getClientSpecMap(), this.isPopupPage, this.getDataByQuery),
            r = i.getLightboxes(e, this.getDataByQuery),
            o = i.getRouterPrefixes(t),
            a = i.getAppPrefixes(n);
        return {
            pages: n,
            prefixes: o.concat(a),
            lightboxes: r
        }
    }

    function a() {
        return e.reduce(this.getClientSpecMap(), function(t, i) {
            var n = i.widgets;
            return e.forEach(n, function(e) {
                t[e.widgetId] = e.publicAPI
            }), t
        }, {})
    }

    function s() {
        var e, t = window ? window.atob : atob,
            i = (this.getClientSpecMapEntriesByType("siteextension")[0] || {}).instance || "";
        try {
            e = JSON.parse(t(i.split(".")[1] || "") || ' {"uid": null, "permissions": null}') || {
                uid: null,
                permissions: null
            }
        } catch (t) {
            e = {
                uid: null,
                permissions: null
            }
        }
        return {
            uid: e.uid,
            permissions: e.permissions
        }
    }

    function u() {
        return {
            svSession: this.getSvSession()
        }
    }
    var l = ["lightbox"];
    return {
        bind: ["getNavigationDataRmi", "getSiteStructureForRmi", "getPublicAPIDataForRmi", "getSMbySiteExtensionInstanceForRmi", "getSessionInfoForRmi"],
        getNavigationDataRmi: r,
        getSiteStructureForRmi: o,
        getPublicAPIDataForRmi: a,
        getSMbySiteExtensionInstanceForRmi: s,
        getSessionInfoForRmi: u,
        getQueryParams: n
    }
}), define("siteUtils/core/BiData", ["lodash"], function(e) {
    function t(t) {
        return "undefined" != typeof window && window.performance && window.performance.now ? Math.round(window.performance.now()) : e.now() - t
    }

    function i(t, i) {
        this.getCurrentUrlPageId = i, this.pageId = null, this.pageNumber = 1, this.pageLoadStart = t && t.initialTimestamp || e.now()
    }
    return i.prototype = {
        getPageId: function() {
            return this.pageId || this.getCurrentUrlPageId()
        },
        getPageNumber: function() {
            return this.pageNumber
        },
        getTime: function() {
            var i = e.now() - this.pageLoadStart;
            return {
                loadingTime: i,
                totalLoadingTime: 1 === this.pageNumber ? t(this.pageLoadStart) : i
            }
        },
        setPage: function(e) {
            this.pageId = e
        },
        switchPage: function(t) {
            this.setPage(t), this.pageNumber++, this.pageLoadStart = e.now()
        }
    }, i
}), define("siteUtils/core/SiteData", ["lodash", "coreUtils", "coreUtilsLib", "siteUtils/core/MobileDeviceAnalyzer", "wixUrlParser", "siteUtils/core/dataResolver", "siteUtils/core/pagesUrlUtils", "siteUtils/core/browserFlags", "siteUtils/core/ViewPortImageLoader", "siteUtils/core/SiteDataRmi", "siteUtils/core/BiData", "experiment"], function(e, t, i, n, r, o, a, s, u, l, c, d) {
    function g(r, g) {
        if (r) {
            a.ensureUrlFormatModel(r), this.getter = e.partial(g, this), this.currentUrl = {}, this._currentRootInfos = {}, this._currentPageIds = {
                primaryPage: null,
                popupPage: null
            }, this.screenSize = {
                width: null,
                height: null
            }, e.assign(this, r);
            var h = e(this.currentUrl.query).keys().find(function(e) {
                return "showmobileview" === e.toLowerCase()
            });
            h && (this.showmobileview = this.currentUrl.query[h]);
            var f = this.requestModel && this.requestModel.userAgent,
                p = e.assign({}, this.requestModel, r.publicModel && r.publicModel.deviceInfo),
                m = i.browserDetection(f),
                v = d.isOpen("sv_tpaMobileViewportFix", {
                    rendererModel: this.rendererModel
                });
            this.browser = m.browser, this.os = m.os, this.mobile = new n({
                userAgent: f,
                deviceType: p.deviceType
            }), this._forceMobileView = r.forceMobileView, this._isMobileDevice = this.mobile.isMobileDevice(), this._browserFlags = s.create(e.assign({
                tpaMobileViewportFix: v
            }, e.pick(this, ["os", "browser"]))), this._isTabletDevice = this.os && this.os.tablet && !this.browser.ie || this.mobile.isTabletDevice(), this._biData = new c(this.wixBiSession, this.getCurrentUrlPageId.bind(this)), this.customUrlMapping = {}, this.siteId = this.siteId || this.rendererModel && this.rendererModel.siteInfo.siteId, this.pagesData = this.pagesData || {}, this.anchorsMap = {}, this.editorData = {
                generated: {},
                generatedVersion: {}
            }, this.textRuntimeLayout = {
                overallBorders: {}
            }, this.mapFromPageUriSeoToPageId = a.getMapFromPageUriSeoToPageId(r), this.dockedRuntimeLayout = {}, this.deletedPagesMap = {}, this.dataResolver = new o(this), this.orphanPermanentDataNodes = [], this.imageLoader = new u(this.getScreenSize.bind(this)), this.wixBiSession = r.wixBiSession || {}, this.svgShapes = r.svgShapes || {}, this.activeModes = {}, this.prefetchPages = [], d.isOpen("sv_dpages", {
                rendererModel: this.rendererModel
            }) && (this.dynamicPages = {
                routersRendererIndex: 0
            }), this.reLayoutedCompsMap = {}, this.saveInvalidationCount = 0, d.isOpen("sv_multilingual") && e.defaults(this.rendererModel.siteMetaData, {
                multilingual: {
                    isEnabled: !1
                }
            }), this.renderFlags = this.renderFlags || {}, e.defaults(this.renderFlags, {
                isPlayingAllowed: !0,
                isZoomAllowed: !0,
                isSocialInteractionAllowed: !0,
                siteTransformScale: 1,
                isExternalNavigationAllowed: !0,
                isBackToTopButtonAllowed: !0,
                isWixAdsAllowed: !0,
                isSlideShowGalleryClickAllowed: !0,
                isTinyMenuOpenAllowed: !0,
                renderFixedPositionContainers: !0,
                isPageProtectionEnabled: this.isViewerMode(),
                isSiteMembersDialogsOpenAllowed: !0,
                allowSiteOverflow: !0,
                shouldResetGalleryToOriginalState: !1,
                shouldResetComponent: !0,
                extraSiteHeight: 0,
                siteScale: 1,
                shouldUpdateJsonFromMeasureMap: !0,
                componentViewMode: "preview",
                allowShowingFixedComponents: !0,
                componentPreviewStates: {},
                renderMobileActionMenu: !t.urlUtils.isQueryParamOn(this.currentUrl, "hideMobileActionBar"),
                initWixCode: this.isViewerMode()
            }), this.failedRequests = [], this.renderRealtimeConfig = {}, this._svQueue = [], this.compStates = {}, this.widgetsStore = {}, this.imageCssCache = {}, this.mediaStore = {}, this.mediaQualityStore = {}, this.pageIdToJsonLd = {}, this.pageLinkTag = {}, this.visitedPages = [], this.onImageUnmount = this.onImageUnmount.bind(this), this.getMediaFullStaticUrl = this.getMediaFullStaticUrl.bind(this), this.nonObservableUpdateIndex = 0, this.siteAspectsData = {}, this._isInSSR = "undefined" == typeof window || window.isMockWindow, this._isClientAfterSSR = !this._isInSSR && !window.clientSideRender, this.mediaRichTextInnerComponents = {}, e.assign(this, e.omit(l, "bind")), e.bindAll(this, e.functionsIn(this))
        }
    }
    var h = t.siteDataUtils;
    return g.prototype = {
        setStore: function(e) {
            this.store = e, this.dataResolver && this.store.registerDataLoadedCallback(this.dataResolver.clearCache.bind(this.dataResolver))
        },
        dataTypes: {
            PROPERTIES: "component_properties",
            DATA: "document_data",
            THEME: "theme_data",
            DESIGN: "design_data",
            BEHAVIORS: "behaviors_data",
            CONNECTIONS: "connections_data"
        },
        WIX_ADS_ID: "WIX_ADS",
        MASTER_PAGE_ID: "masterPage",
        getSessionInfoProp: function(e) {
            return this.getter(["publicModel", "sessionInfo", e])
        },
        setSessionInfoProp: function(t, i) {
            this.publicModel && e.set(this.publicModel, ["sessionInfo", t], i)
        },
        setRootNavigationInfo: function(e, i) {
            t.siteDataUtils.setRootNavigationInfo(this, e, i)
        },
        getNonPageItemZoomData: function() {
            return this.getter(["siteAspectsData", "nonPageItemZoom", "globalData", "image"])
        },
        getPrefetchPages: function() {
            return this.getter(["prefetchPages"])
        },
        getExistingRootNavigationInfo: function(t) {
            var i = this.getExistingRootNavigationInfoWithTransitionInfo(t);
            return i && e.omit(i, "transition")
        },
        getExistingRootNavigationInfoWithTransitionInfo: function(e) {
            return this.getter(["_currentRootInfos", e])
        },
        getPrimaryPageId: function() {
            return this.getter(["_currentPageIds", "primaryPage"])
        },
        getCurrentUrlPageId: function() {
            return this.getPrimaryPageId()
        },
        getFocusedRootId: function() {
            return this.getCurrentPopupId() || this.getPrimaryPageId()
        },
        getSliderGalleryMeasures: function(e) {
            return this.measureMap && e ? {
                imagesWidth: this.measureMap.width[e + "images"],
                itemsContainerWidth: this.measureMap.width[e + "itemsContainer"]
            } : {}
        },
        getAllPossiblyRenderedRoots: function() {
            var e = [this.MASTER_PAGE_ID, this.getPrimaryPageId()];
            return this.isPopupOpened() && e.push(this.getCurrentPopupId()), e
        },
        getRenderedRootsUnderMasterPage: function() {
            return e.reject(this.getAllPossiblyRenderedRoots(), this.isPopupPage.bind(this))
        },
        isMobileView: function() {
            var i = this.getter(["_forceMobileView"]);
            if (e.isBoolean(i)) return i;
            var n = this.getMasterPageData();
            if (n && t.dataUtils.isMobileStructureExist(n)) {
                var r = this.getter(["showmobileview"]);
                if (r) return "true" === r;
                var o = this.getter(["rendererModel", "siteMetaData", "adaptiveMobileOn"]);
                return this.isMobileDevice() && o
            }
            return !1
        },
        isPageProtectionEnabled: function() {
            return this.getter(["renderFlags", "isPageProtectionEnabled"])
        },
        isMobileDevice: function() {
            return this.getter(["_isMobileDevice"])
        },
        browserFlags: function() {
            return this.getter(["_browserFlags"])
        },
        forceLandingPage: function(e) {
            return e.query && e.query.forceLandingPage
        },
        isTabletDevice: function() {
            return this.getter(["_isTabletDevice"])
        },
        isTouchDevice: function() {
            return this.isTabletDevice() || this.isMobileDevice()
        },
        setMobileView: function(e) {
            this._forceMobileView = e
        },
        getAllTheme: function() {
            return this.getter(["pagesData", "masterPage", "data", "theme_data"])
        },
        getGeneralTheme: function() {
            return this.getter(["pagesData", "masterPage", "data", "theme_data", "THEME_DATA"])
        },
        getFontsMap: function() {
            return this.getter(["pagesData", "masterPage", "data", "theme_data", "THEME_DATA", "font"])
        },
        getFont: function(e) {
            var t = e.split("_")[1];
            return this.getter(["pagesData", "masterPage", "data", "theme_data", "THEME_DATA", "font", t])
        },
        getColor: function(e) {
            var t = e.split("_")[1];
            return this.getter(["pagesData", "masterPage", "data", "theme_data", "THEME_DATA", "color", t], e)
        },
        getColorsMap: function() {
            return this.getter(["pagesData", "masterPage", "data", "theme_data", "THEME_DATA", "color"])
        },
        getMasterPageData: function() {
            return this.getter(["pagesData", "masterPage"])
        },
        getPageData: function(e) {
            return this.getter(["pagesData", e])
        },
        getVisitedPages: function() {
            return this.getter(["visitedPages"])
        },
        getServiceTopologyProperty: function(e) {
            return this.getter(["serviceTopology", e])
        },
        getStaticMediaUrl: function() {
            return this.getServiceTopologyProperty("staticMediaUrl")
        },
        getStaticHTMLComponentUrl: function() {
            return this.getServiceTopologyProperty("staticHTMLComponentUrl")
        },
        getStaticVideoUrl: function() {
            return this.getServiceTopologyProperty("staticVideoUrl")
        },
        getStaticVideoHeadRequestUrl: function() {
            return this.getServiceTopologyProperty("staticVideoHeadRequestUrl")
        },
        getMetaSiteId: function() {
            return this.getter(["rendererModel", "metaSiteId"])
        },
        getMediaFullStaticUrl: function(e) {
            var i = this.getServiceTopologyProperty("mediaRootUrl"),
                n = this.getStaticMediaUrl();
            return t.urlUtils.getMediaUrlByContext(e, n, i)
        },
        getStaticThemeUrlWeb: function() {
            var e = this.getServiceTopologyProperty("scriptsLocationMap");
            return e && e.skins && e.skins + "/images/wysiwyg/core/themes"
        },
        isPremiumDomain: function() {
            var t = this.getter(["rendererModel", "premiumFeatures"], []);
            return e.includes(t, "HasDomain")
        },
        isPremiumUser: function() {
            var t = this.getter(["rendererModel", "premiumFeatures"], []);
            return !e.isEmpty(t)
        },
        isAdFreePremiumUser: function() {
            var t = this.getter(["rendererModel", "premiumFeatures"], []);
            return e.includes(t, "AdsFree")
        },
        getClientSpecMap: function() {
            return this.getter(["rendererModel", "clientSpecMap"])
        },
        getClientSpecMapEntry: function(e) {
            return this.getter(["rendererModel", "clientSpecMap", e])
        },
        getClientSpecMapEntriesByType: function(t) {
            return e.filter(this.getClientSpecMap(), {
                type: t
            })
        },
        getClientSpecMapEntryByAppDefinitionId: function(t) {
            return e.find(this.getClientSpecMap(), {
                appDefinitionId: t
            })
        },
        getSMToken: function() {
            var t = this.getClientSpecMapEntriesByType("sitemembers"),
                i = e.head(t);
            return e.get(i, "smtoken")
        },
        getSvSession: function() {
            return this.getSessionInfoProp("svSession")
        },
        getCTToken: function() {
            return this.getSessionInfoProp("ctToken")
        },
        setCTToken: function(e) {
            this.setSessionInfoProp("ctToken", e)
        },
        subSvSession: function(e, t) {
            var i = this.getSvSession();
            i || t ? e(i) : this._svQueue.push(e)
        },
        pubSvSession: function(e) {
            this.setSessionInfoProp("svSession", e), this._svQueue.forEach(function(t) {
                t(e)
            }), this._svQueue.length = 0
        },
        getUserId: function() {
            return this.getter(["siteHeader", "userId"])
        },
        getSiteMetaData: function() {
            return this.getter(["rendererModel", "siteMetaData"])
        },
        getSiteMediaToken: function() {
            return "APP " + this.getter(["rendererModel", "siteMediaToken"])
        },
        getSiteStructure: function() {
            return this.getDataByQuery(this.getStructureCompId())
        },
        getLanguageCode: function() {
            return this.getter(["rendererModel", "languageCode"])
        },
        isPageLandingPage: function(e) {
            var t = this.getDataByQuery(e) || {};
            return !!this.forceLandingPage(this.currentUrl) || (t.isLandingPage || this.isMobileView() && t.isMobileLandingPage)
        },
        getStructureCompId: function() {
            return "masterPage"
        },
        getBodyClientWidth: function() {
            return window.document.body.clientWidth
        },
        getBodyClientHeight: function() {
            return window.document.body.clientHeight
        },
        getScreenWidth: function() {
            return this.getScreenSize().width
        },
        getScreenHeight: function() {
            return this.getScreenSize().height
        },
        getScreenSize: function() {
            return null !== this.screenSize.width && null !== this.screenSize.height || this.updateScreenSize(), this.screenSize
        },
        updateScreenSize: function(i) {
            var n = {};
            e.isUndefined(i) ? (n.width = this.isMobileView() ? 320 : this.getBodyClientWidth(), n.height = this.getBodyClientHeight()) : n = e.pick(i, ["width", "height"]), t.siteDataUtils.updateScreenSize(this, n)
        },
        getScrollBarWidth: function() {
            return this.isInSSR() ? 0 : this.browser.firefox ? 0 : this.measureMap ? e.get(this.measureMap, "innerWidth.screen") - e.get(this.measureMap, "clientWidth") : (this.isMobileView() ? 320 : window.innerWidth) - this.getScreenWidth()
        },
        getSiteX: function() {
            return this.isMobileView() || this.isMobileDevice() ? 0 : Math.min(parseInt(Math.floor((this.getSiteWidth() - this.getScreenWidth()) / 2), 10), 0)
        },
        getSiteWidth: function() {
            if (this.isMobileView()) return 320;
            if (this.isFacebookSite()) return 520;
            var t = this.getSiteStructure();
            return e.get(t, "renderModifiers.siteWidth", 980)
        },
        isFacebookSite: function() {
            return "HtmlFacebook" === this.getter(["rendererModel", "siteInfo", "applicationType"])
        },
        clearCache: function() {
            this.dataResolver.clearCache()
        },
        onImageUnmount: function(e) {
            this.imageCssCache && delete this.imageCssCache[e], this.imageLoader.removeImage(e)
        },
        getDataByQuery: function(e, t, i) {
            t = t || "masterPage", i = i || this.dataTypes.DATA;
            var n = [this.getPrimaryPageId()];
            return this.isPopupOpened() && n.push(this.getCurrentPopupId()), this.dataResolver.getDataByQuery(this.pagesData, n, t, i, e)
        },
        isRootIgnoreBottomBottom: function(t) {
            return t && e.get(this.pagesData, ["masterPage", "data", "document_data", t, "ignoreBottomBottomAnchors"])
        },
        resolveData: function(e, t, i) {
            return this.getDataByQuery(e, t, i)
        },
        findDataOnMasterPageByPredicate: function(t) {
            return e.find(this.getMasterPageData().data.document_data, t)
        },
        getPageMinHeight: function() {
            return this.isMobileView() ? 200 : 500
        },
        isHomePage: function(e) {
            return e && e === this.getMainPageId()
        },
        getPagesDataItems: function() {
            var t = this.getAllPageIds();
            return e.map(t, function(e) {
                return this.getDataByQuery(e)
            }.bind(this))
        },
        isDebugMode: function() {
            return "all" === e.get(this, ["currentUrl", "query", "debug"])
        },
        hasDebugQueryParam: function() {
            return !!this.getter(["currentUrl", "query", "debug"])
        },
        getFavicon: function() {
            return this.publicModel && this.publicModel.favicon
        },
        getDocumentLocation: function() {
            return this.currentUrl
        },
        getOrigin: function() {
            return t.urlUtils.origin(this.currentUrl)
        },
        getExternalBaseUrl: function() {
            var e = this;
            return this.getExternalBaseUrl = this.isViewerMode() ? function() {
                return this.publicModel.externalBaseUrl
            } : function() {
                var i = this.isSiteHistoryEndpoint() ? 8 : 7,
                    n = t.urlUtils.getBaseUrlWithPath(e.getDocumentLocation(), i);
                return function() {
                    return n
                }
            }.bind(this)(), this.getExternalBaseUrl()
        },
        getUnicodeExternalBaseUrl: function() {
            return this.publicModel && this.publicModel.unicodeExternalBaseUrl
        },
        getMainPageId: function() {
            if (this.publicModel) return this.publicModel.pageList.mainPageId;
            var e = this.getDataByQuery("masterPage", "masterPage");
            return e.mainPage.id || e.mainPageId || "mainPage"
        },
        getAllPageIds: function() {
            var t = this.getter(["publicModel"]);
            if (t) return e.map(t.pageList.pages, "pageId");
            var i = this.getter(["pagesData"]);
            return e.keys(e.omit(i, ["masterPage"]))
        },
        getPageTitle: function(t) {
            if (this.publicModel) {
                var i = e.get(this.publicModel, ["pageList", "pages"]);
                return e.get(e.find(i, {
                    pageId: t
                }), "title")
            }
            return e.get(this.getDataByQuery(t), "title")
        },
        getPageJsonld: function(e) {
            return this.pageIdToJsonLd[e] || {}
        },
        setJsonLd: function(e, t) {
            this.pageIdToJsonLd[e] = t
        },
        getPageLinkTag: function(e) {
            return this.pageLinkTag[e] || {}
        },
        setPageLinkTag: function(e, t) {
            this.pageLinkTag[e] = t
        },
        getBrowser: function() {
            return this.browser
        },
        getOs: function() {
            return this.os
        },
        getHubSecurityToken: function() {
            return this.getSessionInfoProp("hs") || "NO_HS"
        },
        setHubSecurityToken: function(e) {
            this.setSessionInfoProp("hs", e)
        },
        getPageUsedFonts: function(e) {
            return this.getDataByQuery(e).usedFonts
        },
        setPageUsedFonts: function(e, t) {
            this.getDataByQuery(e).usedFonts = t
        },
        getPremiumFeatures: function() {
            return this.rendererModel.premiumFeatures
        },
        isViewerMode: function() {
            return !e.isUndefined(this.publicModel)
        },
        isTemplate: function() {
            return "Template" === this.rendererModel.siteInfo.documentType
        },
        shouldShowWixAds: function() {
            var t = this.rendererModel.siteInfo.documentType,
                i = "Template" === t && !this.rendererModel.previewMode,
                n = e.includes(this.rendererModel.premiumFeatures, "NoAdsInSocialSites");
            return h.isWixAdsAllowed(this) && !this.isAdFreePremiumUser() && "WixSite" !== t && !i && (!this.isFacebookSite() || !n)
        },
        getMobileWixAdsHeight: function() {
            return this.isMobileView() && this.shouldShowWixAds() ? 30 : 0
        },
        getPageBottomMargin: function() {
            return this.isMobileView() || !this.shouldShowWixAds() ? 0 : 40
        },
        isWixSite: function() {
            return "WixSite" === this.rendererModel.siteInfo.documentType
        },
        isUsingUrlFormat: function(e) {
            return this.getUrlFormat() === e
        },
        getUrlFormat: function() {
            return this.urlFormatModel && this.urlFormatModel.format ? this.urlFormatModel.format : t.siteConstants.URL_FORMATS.HASH_BANG
        },
        isImageZoom: function(e) {
            return e.imageZoom
        },
        getPageUrl: function(i, n, o, a, s) {
            var u = this.isUsingUrlFormat(t.siteConstants.URL_FORMATS.HASH_BANG) ? t.siteConstants.URL_FORMATS.HASH_BANG : n;
            return r.getUrl(this, e.assign({}, i, {
                format: u
            }), !1, !!e.isUndefined(a) || a, o, s)
        },
        getCurrentUrl: function(e, t, i) {
            var n = this.getExistingRootNavigationInfo(this.getCurrentUrlPageId());
            return this.getPageUrl(n, e, t, void 0, i ? this.getCustomUrlMapping() : void 0)
        },
        getMainPageUrl: function(e, t) {
            return this.getPageUrl({
                pageId: this.getMainPageId()
            }, e, t)
        },
        getMainPagePath: function() {
            var e = this.getMainPageUrl(this.getUrlFormat()),
                t = this.currentUrl.protocol + "//" + this.currentUrl.host;
            return e.replace(t, "")
        },
        getForbiddenPageUriSEOs: function() {
            return this.urlFormatModel && this.urlFormatModel.forbiddenPageUriSEOs ? this.urlFormatModel.forbiddenPageUriSEOs : {}
        },
        getGlobalImageQuality: function() {
            return e.pick(this.getDataByQuery(t.siteConstants.GLOBAL_IMAGE_QUALITY), t.siteConstants.GLOBAL_IMAGE_QUALITY_PROPERTIES)
        },
        getCurrentPopupId: function() {
            return this.getter(["_currentPageIds", "popupPage"])
        },
        getRootNavigationInfo: function() {
            var e = this.getPrimaryPageId();
            return this.getExistingRootNavigationInfo(e)
        },
        isPopupPage: function(e) {
            if ("masterPage" === e) return !1;
            var t = this.getDataByQuery(e);
            return Boolean(t && t.isPopup)
        },
        isDynamicPage: function(e) {
            return t.routerUtils.isDynamicPage(this.getRouters(), e)
        },
        isPopupOpened: function() {
            return Boolean(this.getCurrentPopupId())
        },
        getViewMode: function() {
            return this.isMobileView() ? t.constants.VIEW_MODES.MOBILE : t.constants.VIEW_MODES.DESKTOP
        },
        isFeedbackEndpoint: function() {
            return !this.isViewerMode() && e.startsWith(this.currentUrl.path, "/html/editor/review")
        },
        isSiteHistoryEndpoint: function() {
            return !this.isViewerMode() && e.startsWith(this.currentUrl.path, "/html/editor/web/renderer/revisions/view")
        },
        getPublicBaseUrl: function() {
            var e = !!this.documentServicesModel,
                t = !e || this.documentServicesModel.isPublished;
            return e ? t ? this.documentServicesModel.publicUrl : "" : this.getExternalBaseUrl()
        },
        getPopupsContainer: function() {
            return window.document.getElementById("POPUPS_ROOT")
        },
        getCustomUrlMapping: function() {
            return this.getter(["customUrlMapping"])
        },
        setCustomUrlMapping: function(e, i) {
            t.siteDataUtils.setCustomUrlMapping(this, e, i)
        },
        getRouters: function() {
            return this.getter(["routers", "configMap"]) || {}
        },
        isPlatformAppOnPage: function(t, i) {
            return e.get(this, ["pagesPlatformApplications", i, t], !1)
        },
        isQaMode: function() {
            return t.urlUtils.isQueryParamOn(this.currentUrl, "isqa")
        },
        getHash: function() {
            var e = Array.prototype.slice.call(arguments, 0);
            return t.hashUtils.SHA256.hex_sha256(e.join("/"))
        },
        getUniquePageId: function(i) {
            var n = t.blogAppPartNames;
            if (t.stringUtils.isTrue(e.get(this, ["currentUrl", "query", "draft"]))) return t.hashUtils.SHA256.hex_sha256("editor");
            var r, o = this.pagesData[i],
                a = e.find(o.data.document_data, {
                    appPartName: n.SINGLE_POST
                });
            if (this.wixapps.blog[a.id]) return r = this.wixapps.blog[a.id][1], this.getHash(this.siteId, "blog", r)
        },
        isInSSR: function() {
            return this._isInSSR
        },
        isClientAfterSSR: function() {
            return this._isClientAfterSSR
        },
        setPagesJsonFileName: function(t) {
            e.isObject(t) && this.publicModel.pageList.pages.forEach(function(e) {
                e.pageJsonFileName = e.pageJsonFileName || t[e.pageId]
            })
        },
        registerMediaRichTextInnerComponent: function(t, i, n) {
            e.set(this.mediaRichTextInnerComponents, [t, i], {
                id: i,
                structureInfo: n
            })
        },
        getMediaRichTextInnerComponents: function(e) {
            return this.mediaRichTextInnerComponents[e]
        },
        clearMediaRichTextInnerComponents: function(e) {
            delete this.mediaRichTextInnerComponents[e]
        },
        getBiData: function() {
            return this._biData
        }
    }, g
}), define("siteUtils/core/componentsAnchorsMetaData", ["coreUtils"], function(e) {
    var t = e.constants;
    return {
        default: {
            to: {
                allow: !0
            },
            from: {
                allow: !0,
                lock: t.ANCHORS.LOCK_CONDITION.THRESHOLD
            }
        },
        "wysiwyg.viewer.components.Column": {
            to: {
                allow: !0
            },
            from: {
                allow: !1,
                lock: t.ANCHORS.LOCK_CONDITION.NEVER
            }
        },
        "wysiwyg.viewer.components.PageGroup": {
            to: {
                allow: !0
            },
            from: {
                allow: !0,
                lock: t.ANCHORS.LOCK_CONDITION.ALWAYS
            }
        },
        "mobile.core.components.Page": {
            to: {
                allow: !0
            },
            from: {
                allow: !1,
                lock: t.ANCHORS.LOCK_CONDITION.NEVER
            }
        },
        "wysiwyg.viewer.components.PagesContainer": {
            to: {
                allow: !0
            },
            from: {
                allow: !0,
                lock: t.ANCHORS.LOCK_CONDITION.THRESHOLD
            }
        },
        "wysiwyg.viewer.components.PopupContainer": {
            to: {
                allow: !0
            },
            from: {
                allow: !1
            }
        },
        "wysiwyg.viewer.components.SiteSegmentContainer": {
            to: {
                allow: !0
            },
            from: {
                allow: !0,
                lock: t.ANCHORS.LOCK_CONDITION.ALWAYS
            }
        },
        "wysiwyg.viewer.components.WSiteStructure": {
            to: {
                allow: !0,
                distance: 0
            },
            from: {
                allow: !1,
                lock: t.ANCHORS.LOCK_CONDITION.NEVER
            }
        },
        "wysiwyg.viewer.components.tpapps.TPASection": {
            to: {
                allow: !0
            },
            from: {
                allow: !0,
                lock: t.ANCHORS.LOCK_CONDITION.NEVER
            }
        },
        "wysiwyg.viewer.components.tpapps.TPAMultiSection": {
            to: {
                allow: !0
            },
            from: {
                allow: !0,
                lock: t.ANCHORS.LOCK_CONDITION.NEVER
            }
        },
        "wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton": {
            from: {
                allow: !1
            }
        },
        "wysiwyg.viewer.components.tpapps.TPAGluedWidget": {
            from: {
                allow: !1
            }
        },
        "wixapps.integration.components.AppPage": {
            from: {
                allow: !1
            }
        },
        "platform.components.AppController": {
            to: {
                allow: !1
            },
            from: {
                allow: !1
            }
        }
    }
}), define("siteUtils/core/layoutUtils", ["lodash", "coreUtils"], function(e, t) {
    function i(e) {
        return e && e.docked && (e.docked.vCenter || e.docked.bottom || e.docked.top)
    }

    function n(e) {
        return e && e.docked && (e.docked.hCenter || e.docked.left || e.docked.right)
    }

    function r(e, t) {
        return parseFloat((t / e).toFixed(5))
    }

    function o(t) {
        return !e.isUndefined(t.aspectRatio)
    }

    function a(e, t) {
        return Boolean(e && e.docked && e.docked[t])
    }

    function s(e, t) {
        return e && e.docked && e.docked[t]
    }

    function u(e) {
        return s(e, "vCenter")
    }

    function l(e) {
        return s(e, "top")
    }

    function c(e) {
        return s(e, "bottom")
    }

    function d(e) {
        return Boolean(e && e.docked && e.docked.bottom && e.docked.top)
    }

    function g(t) {
        return e.has(t, ["docked", "vCenter"])
    }

    function h(t) {
        return e.has(t, ["docked", "bottom", "vh"]) && e.has(t, ["docked", "top", "vh"])
    }

    function f(t) {
        return e.has(t, ["docked", "left", "vw"]) && e.has(t, ["docked", "right", "vw"])
    }

    function p(e) {
        return h(e) || f(e)
    }

    function m(e) {
        return e && e.docked && e.docked.left && e.docked.right
    }

    function v(e, t, i) {
        return e && Math.max(t, Math.min(i, e))
    }

    function y() {
        return {
            top: "",
            bottom: "",
            left: "",
            right: "",
            width: "",
            height: "",
            position: ""
        }
    }

    function S(e, r, o, a, s, u) {
        var l = y();
        return l.position = e && e.position || "absolute", e && (n(e) || (l.left = e.x), i(e) || (l.top = e.y), d(e) || (l.height = v(e.height, t.siteConstants.COMP_SIZE.MIN_HEIGHT, t.siteConstants.COMP_SIZE.MAX_HEIGHT)), m(e) || (l.width = v(e.width, t.siteConstants.COMP_SIZE.MIN_WIDTH, t.siteConstants.COMP_SIZE.MAX_WIDTH)), e.fixedPosition && (l.position = "fixed"), e.rotationInDegrees && (l[t.style.getPrefixedTransform()] = "rotate(" + e.rotationInDegrees + "deg) translateZ(0)"), e.docked && t.dockUtils.applyDockedStyle(e, l, r, o, a, s, u)), l
    }

    function w(e, i, n) {
        var r = i[n.id];
        return t.boundingLayout.getBoundingLayout({
            x: r.offsetLeft,
            y: r.offsetTop,
            width: M(e.width[n.id], r.offsetWidth),
            height: M(e.height[n.id], r.offsetHeight),
            rotationInDegrees: n.layout.rotationInDegrees
        })
    }

    function P(t, i, n, r, o) {
        return e(n).reject({
            layout: {
                fixedPosition: !0
            }
        }).filter(function(e) {
            return !!i[e.id]
        }).reduce(function(e, n) {
            var a = w(t, i, n),
                s = o + a.y,
                u = s + a.height,
                l = r ? P(t, i, n.components, r, s) : u;
            return Math.max(e, u, l)
        }, 0)
    }

    function I(e, t) {
        return e.isMobileView() ? t.structure.mobileComponents : t.structure.components
    }

    function b(e, t, i, n) {
        return P(e, t, I(i, n), !1, 0)
    }

    function M(t, i) {
        return e.isNumber(t) ? t : i
    }

    function U(e, t, i) {
        return M(e.width["ROOT_" + t], i)
    }

    function D(e, t, i) {
        return M(e.left["ROOT_" + t], -i)
    }

    function T(e, t) {
        var i = e - t;
        return {
            left: Math.floor(Math.min(0, .5 * i)),
            width: Math.floor(Math.max(e, t))
        }
    }
    return {
        isDockToScreen: p,
        isVerticallyDocked: i,
        isDockedToDirection: a,
        getDockToDirection: s,
        getTopDockData: l,
        getBottomDockData: c,
        getVerticallyCenteredDockData: u,
        isVerticallyStretched: d,
        isVerticallyCentered: g,
        isVerticallyStretchedToScreen: h,
        isHorizontallyDocked: n,
        isHorizontallyStretched: m,
        isAspectRatioOn: o,
        calcAspectRatio: r,
        getStyle: S,
        getRootLeft: D,
        getRootWidth: U,
        getPageBottomChildEnd: b,
        stretchInCenteredContainer: T
    }
}), define("siteUtils/core/skinAnchorsMetaData", ["lodash"], function(e) {
    function t(t, n) {
        return e.isFunction(i[t]) ? i[t](n) : i[t] || 0
    }
    var i = {
        "wysiwyg.viewer.skins.area.BubbleArea": 30,
        "wysiwyg.viewer.skins.area.BubbleLeftArea": 30,
        "wysiwyg.viewer.skins.area.RibbonAreaSkin": function(t) {
            var i = e.get(t, "style.properties"),
                n = 10;
            return i && (n += parseInt(i.els, 10) || 0), n
        },
        "wysiwyg.viewer.skins.area.SloopyArea": 6,
        "wysiwyg.viewer.skins.area.BubbleAreaLeft": 10,
        "wysiwyg.viewer.skins.area.LeftTriangleArea": 5,
        "wysiwyg.viewer.skins.area.RightTriangleArea": 5,
        "wysiwyg.viewer.skins.area.BubbleAreaRight": 10,
        "wysiwyg.viewer.skins.page.SloopyPageSkin": 3,
        "wysiwyg.viewer.skins.page.BasicPageSkin": 20,
        "wysiwyg.viewer.skins.page.LiftedBottomPageSkin": 20,
        "wysiwyg.viewer.skins.page.LiftedTopPageSkin": 20,
        "wysiwyg.viewer.skins.page.BorderPageSkin": 20,
        "wysiwyg.viewer.skins.page.LiftedShadowPageSkin": 20,
        "wysiwyg.viewer.skins.page.ShinyIPageSkin": 20
    };
    return {
        getNonAnchorableHeightForSkin: t
    }
}), define("siteUtils/core/anchorsGenerator", ["lodash", "experiment", "coreUtils", "siteUtils/core/layoutUtils", "siteUtils/core/skinAnchorsMetaData", "siteUtils/core/componentsAnchorsMetaData"], function(e, t, i, n, r, o) {
    function a(e, t) {
        var i = t.boundingY,
            n = t.boundingBottom,
            r = e.boundingY + e.boundingHeight / 2;
        return n > e.boundingBottom && i > r
    }

    function s(e, t, i) {
        var n = t.boundingY - e.boundingY - e.boundingHeight,
            r = i ? 0 : t.boundingY;
        return d(G.bottomTop, e.componentType, e.id, t.id, n, r)
    }

    function u(e, t) {
        var i = t.boundingY - e.boundingY;
        return d(G.topTop, e.componentType, e.id, t.id, i, t.boundingY)
    }

    function l(t, n, o) {
        if ("masterPage" === n.id || n.id === i.constants.COMP_IDS.PAGES_CONTAINER) return d(G.bottomParent, t.componentType, t.id, n.id, 0, 0);
        var a, s = o[n.styleId && n.styleId.replace("#", "")],
            u = s && s.skin || n.skin,
            l = n.height - r.getNonAnchorableHeightForSkin(u, s),
            c = l;
        return a = e.includes(W, n.type) || e.includes(V, n.componentType) ? 0 : l - (t.boundingY + t.boundingHeight), d(G.bottomParent, t.componentType, t.id, n.id, a, c)
    }

    function c(e, t, i, n) {
        return {
            distance: 0,
            locked: !0,
            originalValue: n,
            fromComp: t,
            targetComponent: i,
            type: e
        }
    }

    function d(e, t, i, n, r, o) {
        var a = c(e, i, n, o);
        return a.distance = r, a.locked = g(e, t, r), a
    }

    function g(e, t, n) {
        if (e === G.topTop) return !0;
        var r = o[t] || o.default;
        return r.from.lock !== i.constants.ANCHORS.LOCK_CONDITION.NEVER && (r.from.lock === i.constants.ANCHORS.LOCK_CONDITION.ALWAYS || n <= i.constants.ANCHORS.LOCK_THRESHOLD)
    }

    function h(i, r) {
        return t.isOpen("layout_verbs_with_anchors", i) ? e.includes(F, r.id) || !(e.includes(H, r.id) || r.layout.fixedPosition || n.isVerticallyCentered(r.layout) || n.isVerticallyStretched(r.layout) && !n.isVerticallyStretchedToScreen(r.layout)) : e.includes(F, r.id) || !(e.includes(H, r.id) || r.layout.fixedPosition || n.isVerticallyDocked(r.layout))
    }

    function f(t, i) {
        return e.flatMap(t, function(t) {
            return e.map(i[t], "target")
        })
    }

    function p(t) {
        for (var i = f(N, t), n = {}; i.length;) {
            var r = i.shift();
            n[r] = !0;
            var o = e(t[r]).map("target").reject(function(t) {
                return e.has(n, t)
            }).value();
            i = i.concat(o)
        }
        return n
    }

    function m(t, i, n, r) {
        var o = p(t);
        return e.mapValues(t, function(t, a) {
            if (!t.length) return [];
            var c = i[a];
            return c.layoutAnchors ? c.layoutAnchors.slice() : e(t).map(function(e) {
                if (e.target === z) return l(c, n, r);
                var t = i[e.target];
                return e.type === G.bottomTop ? s(c, t, o[t.id]) : u(c, t)
            }).compact().value()
        })
    }

    function v(t, n, r, o) {
        var a = i.dataUtils.getChildrenData(t, n);
        if (e.isEmpty(a)) return {};
        var s, u = S(s = "Document" === t.type && y(a) ? I(t, a, n) : a, o),
            l = e.mapValues(u, "anchors"),
            c = A(u, o);
        return e(l).assign(m(c, u, w(t, o), r)).omit("parentNode").value()
    }

    function y(t) {
        var i = e.find(t, {
            id: "SITE_HEADER"
        });
        return !!i && e.find(t, {
            id: "PAGES_CONTAINER"
        }).layout.y < i.layout.y + i.layout.height
    }

    function S(t, i) {
        return e.reduce(t, function(e, t) {
            return e[t.id] = w(t, i), e
        }, {})
    }

    function w(e, t) {
        var n = e.layout,
            r = i.boundingLayout.getBoundingY(n),
            o = i.boundingLayout.getBoundingHeight(n),
            a = n.x ? i.boundingLayout.getBoundingX(n) : 0;
        return {
            id: e.id,
            layoutAnchors: n.anchors,
            anchors: [],
            y: n.y,
            x: n.x,
            height: n.height,
            width: n.width,
            canBePushed: k(e, t),
            canPush: C(e, t),
            boundingY: r,
            boundingX: a,
            boundingBottom: r + o,
            boundingHeight: o,
            boundingWidth: i.boundingLayout.getBoundingWidth(n),
            canCreateAnchorsToComp: h(t, e),
            styleId: e.styleId,
            skin: e.skin,
            componentType: e.componentType
        }
    }

    function P(t) {
        return e.find(t.layout.anchors, {
            targetComponent: "PAGES_CONTAINER",
            type: G.bottomTop
        })
    }

    function I(e, t, i) {
        return e.layout.anchors ? b(e, t, i) : M(t)
    }

    function b(t, n, r) {
        var o = e.clone(n),
            a = e.find(n, {
                id: "SITE_HEADER"
            }),
            s = e.find(n, {
                id: "SITE_FOOTER"
            }),
            u = U(t, r) + i.boundingLayout.getBoundingY(a.layout) + i.boundingLayout.getBoundingHeight(a.layout),
            l = e.findIndex(n, {
                id: "PAGES_CONTAINER"
            }),
            c = n[l],
            d = e.assign({}, c.layout, {
                y: u,
                height: s.layout.y - u
            });
        return o[l] = e.assign({}, c, {
            layout: d
        }), o
    }

    function M(t) {
        var n = e.clone(t),
            r = e.find(t, {
                id: "SITE_FOOTER"
            }),
            o = e.maxBy(t, function(e) {
                return P(e) ? i.boundingLayout.getBoundingY(e.layout) + i.boundingLayout.getBoundingHeight(e.layout) : -1e4
            });
        if (!o || !P(o)) return n;
        var a = e.find(o.layout.anchors, {
                targetComponent: "PAGES_CONTAINER",
                type: G.bottomTop
            }),
            s = i.boundingLayout.getBoundingY(o.layout) + i.boundingLayout.getBoundingHeight(o.layout),
            u = a.distance + s,
            l = e.findIndex(t, {
                id: "PAGES_CONTAINER"
            }),
            c = t[l],
            d = e.assign({}, c.layout, {
                y: u,
                height: r.layout.y - u
            });
        return n[l] = e.assign({}, c, {
            layout: d
        }), n
    }

    function U(t, i) {
        return i ? 0 : e.get(t, "layout.anchors.0.distance")
    }

    function D(t, i) {
        e(t).keys().flatMap(e.propertyOf(i)).filter({
            type: G.bottomTop
        }).map("source").forEach(function(e) {
            delete t[e]
        })
    }

    function T(t, i) {
        return e.omitBy(t, function(t, n) {
            return e.some(i[n], {
                type: G.bottomTop
            })
        })
    }

    function k(i, r) {
        return (!i.componentType || !1 !== e.get(o, [i.componentType, "to", "allow"])) && (!t.isOpen("layout_verbs_with_anchors", r) || (!n.isDockedToDirection(i.layout, "top") || n.isVerticallyStretchedToScreen(i.layout)))
    }

    function C(i, r) {
        return (!i.componentType || !1 !== e.get(o, [i.componentType, "from", "allow"])) && (!t.isOpen("layout_verbs_with_anchors", r) || (!n.isDockedToDirection(i.layout, "bottom") || n.isVerticallyStretchedToScreen(i.layout)))
    }

    function A(t, i) {
        function n(t, i) {
            e.isEmpty(i) || (t.id === z ? i = T(i, r) : D(i, o), e.forEach(i, function(e, i) {
                r[i].push({
                    target: t.id,
                    type: e
                }), o[t.id].push({
                    source: i,
                    type: e
                })
            }))
        }
        var r = {},
            o = {},
            a = e(t).filter("canCreateAnchorsToComp").sortBy("boundingY").value(),
            s = {
                left: -1e5,
                right: 1 / 0,
                ids: ["root"]
            };
        a = R(a), r.root = [];
        var u, l, c, d, g = [s];
        return a.forEach(function(a) {
            function s(e) {
                y[e] = "root" === e ? G.bottomTop : L(t[e], a)
            }
            r[a.id] = [], o[a.id] = [], c = null, u = a.boundingX, l = u + a.boundingWidth, d = 0;
            var h, f, p, m = g.length,
                v = [],
                y = {},
                S = [];
            for (p = 0; p < m; p++) {
                var w = g[p];
                if (w.right <= u) v.push(w);
                else if (null === c ? (c = p, h = !0) : h = !1, (g.length - 1 === p || g[p + 1].left > l) && (d = p, f = !0), a.canBePushed && w.ids.forEach(s), a.canPush && (S = O(a.id, S, w, y, h, f, u, l, a.canBePushed, i)), f) break
            }
            if (delete y.root, n(a, y), a.canPush) {
                var P = e.takeRight(g, m - d - 1);
                g = e.compact(v).concat(S, P)
            }
        }), delete r.root, r
    }

    function R(e) {
        var t = {
            x: -1e5,
            y: 1 / 0,
            height: 10,
            width: 1 / 0,
            id: z,
            canBePushed: !0,
            canPush: !1,
            boundingY: 1 / 0,
            boundingBottom: 1 / 0,
            boundingHeight: 10
        };
        return e.concat(t)
    }

    function L(e, t) {
        return a(e, t) ? G.bottomTop : G.topTop
    }

    function E(e, i, n) {
        return t.isOpen("layout_verbs_with_anchors", n) ? !i || e === G.topTop : e === G.topTop
    }

    function O(t, i, n, r, o, a, s, u, l, c) {
        var d = e.clone(i);
        o && d.push({
            ids: n.ids,
            left: n.left,
            right: s - 1
        });
        var g = {
            ids: [t],
            left: Math.max(s, n.left),
            right: Math.min(u, n.right)
        };
        n.ids.filter(function(e) {
            return "root" !== e && E(r[e], l, c)
        }).forEach(function(e) {
            g.ids.push(e)
        });
        var h = e.last(d);
        return h && !e.isEqual(h.ids, g.ids) ? d.push(g) : h && (h.right = g.right), a && d.push({
            ids: n.ids,
            left: u + 1,
            right: n.right
        }), d
    }

    function _(t, n, r) {
        for (var o, a, s, u = [t], l = {}; u.length;) s = v(o = u.pop(), r, n), e.assign(l, s), a = i.dataUtils.getChildrenData(o, r), Array.prototype.push.apply(u, a);
        return l
    }

    function x(e, t, i, n) {
        return v(e, i, t, n)
    }

    function B(t, i, n, r, o) {
        var a = !1,
            s = r - n;
        return !(s < 0) && (e.forEach(t, function(t) {
            if (t.locked && (t.type === G.bottomTop || t.type === G.bottomParent)) {
                var n = e.get(o, [t.type, t.targetComponent]) + s;
                if (e.isNaN(n)) return;
                t.distance !== n && (a = !0, t.distance = n, t.originalValue = i + n, t.locked = g(t.type, null, n))
            }
        }), a)
    }
    var H = ["BACK_TO_TOP_BUTTON"],
        N = ["PAGES_CONTAINER"],
        F = ["SITE_HEADER", "SITE_FOOTER", "PAGES_CONTAINER"],
        W = ["Page", "Document"],
        V = ["wysiwyg.viewer.components.BoxSlideShow", "wysiwyg.viewer.components.StripContainerSlideShow"],
        G = {
            bottomTop: "BOTTOM_TOP",
            bottomParent: "BOTTOM_PARENT",
            topTop: "TOP_TOP"
        },
        z = "parentNode";
    return {
        createPageAnchors: _,
        createChildrenAnchors: x,
        packTextAnchors: B
    }
}), define("siteUtils/core/layoutAnchorsUtils", ["lodash", "siteUtils/core/anchorsGenerator", "siteUtils/core/skinAnchorsMetaData"], function(e, t, i) {
    return {
        createPageAnchors: t.createPageAnchors,
        createChildrenAnchors: t.createChildrenAnchors,
        packTextAnchors: t.packTextAnchors,
        getNonAnchorableHeightForSkin: i.getNonAnchorableHeightForSkin
    }
}), define("siteUtils/core/originalValuesMapGenerator", ["lodash", "coreUtils", "siteUtils/core/skinAnchorsMetaData"], function(e, t, i) {
    function n(n, r, o) {
        function a(n) {
            var u = t.dataUtils.getChildrenData(n, o),
                l = {};
            if (n.layout && (l.top = t.boundingLayout.getBoundingY(n.layout)), !e.isEmpty(u)) {
                if (n.layout) {
                    var c = n.styleId && n.styleId.replace("#", ""),
                        d = r[c],
                        g = d && d.skin || n.skin;
                    l.height = n.layout.height - i.getNonAnchorableHeightForSkin(g, d)
                }
                e.forEach(u, a)
            }
            s[n.id] = l
        }
        var s = {};
        return a(n), s
    }
    return {
        createOriginalValuesMap: n
    }
}), define("siteUtils/core/fullToDisplayedJson", ["lodash", "coreUtils"], function(e, t) {
    function i(t, i) {
        var n = !0;
        if (t) {
            var r = !t.isHiddenByModes;
            n = i && !e.isUndefined(i.isHiddenByModes) ? !i.isHiddenByModes : r
        }
        return n
    }

    function n(t, i) {
        return t = t || {}, e.omitBy(t[i], function(e) {
            return !e
        })
    }

    function r(t, i) {
        return !e.isEmpty(i) && e.every(t.modeIds, function(e) {
            return i[e]
        })
    }

    function o(t, i) {
        var n = e.transform(t, function(t, n) {
            r(n, i) && e.assign(t, n)
        }, {});
        return delete n.modeIds, n
    }

    function a(e, t) {
        var i = t && e.mobileComponents ? "mobileComponents" : "children";
        return e[i] ? i : "components"
    }

    function s(n, r) {
        var s = a(r, !1),
            l = a(r, !0),
            c = r.modes,
            d = o(e.get(r, ["modes", "overrides"]) || [], n, r);
        if (i(c, d)) {
            var g = t.objectUtils.cloneDeep(e.omit(r, ["modes", s, l]));
            return c && (c.overrides && (d = e.omit(d, "isHiddenByModes"), e.assign(g, d)), c.definitions && e.set(g, ["modes", "definitions"], c.definitions)), u(g, s, n, r), s !== l && u(g, l, n, r), g
        }
    }

    function u(t, i, n, r) {
        e.isUndefined(r[i]) || (t[i] = e(r[i]).map(function(e) {
            return s(n, e)
        }).compact().value())
    }

    function l(i, r) {
        var o = n(r, i.structure.id),
            a = t.objectUtils.cloneDeep(e.omit(i, ["structure", "data"]));
        return a.structure = s(o, i.structure), a.data = t.objectUtils.cloneDeep(i.data), a
    }

    function c(t, i) {
        i = i || {};
        var n = {};
        return e.forEach(t, function(e, t) {
            n[t] = l(e, i)
        }), n
    }

    function d(t) {
        return !e.isUndefined(t.structure)
    }

    function g(t) {
        return "Document" === e.get(t, "type")
    }

    function h(t) {
        return !e.isUndefined(t.componentType)
    }
    return {
        getDisplayedJson: function(e, i, r) {
            var o = {};
            if (e)
                if (h(e) || g(e)) {
                    var a = n(i, r);
                    o.structure = s(a, e)
                } else o = d(e) ? l(e, i) : c(e, i);
            return t.errorPages.updateErrorPageMasterData(r, o), o
        },
        applyModesOnSerializedStructure: function(e, t) {
            return t = t || {}, s(t, e)
        }
    }
}), define("siteUtils/core/modesUtils", ["lodash", "coreUtils"], function(e, t) {
    function i(i, o) {
        var a = [],
            s = [],
            u = [],
            l = [];
        e.forEach(i, function(e) {
            switch (e.type) {
                case t.siteConstants.COMP_MODES_TYPES.DEFAULT:
                case t.siteConstants.COMP_MODES_TYPES.HOVER:
                    a.push(e.modeId);
                    break;
                case t.siteConstants.COMP_MODES_TYPES.SCROLL:
                    s.push(e.modeId);
                    break;
                case t.siteConstants.COMP_MODES_TYPES.WIDTH:
                    u.push(e.modeId);
                    break;
                default:
                    l.push(e.modeId)
            }
        });
        var c = e.partial(n, o.overrides),
            d = e.partial(r, o.overrides);
        return o.isHiddenByModes ? a.length && !e.some(a, d) || s.length && !e.some(s, d) || u.length && !e.some(u, d) || l.length && !e.some(l, d) : a.length && e.every(a, c) || s.length && e.every(s, c) || u.length && e.every(u, c) || l.length && e.every(l, c)
    }

    function n(t, i) {
        var n = e.find(t, function(t) {
            return e.isEqual([i], t.modeIds)
        });
        return n && n.isHiddenByModes
    }

    function r(t, i) {
        var n = e.find(t, function(t) {
            return e.isEqual([i], t.modeIds)
        });
        return n && !1 === n.isHiddenByModes
    }

    function o(i, n, r, s) {
        var u = a(i, n, r, s),
            l = t.dataUtils.getChildrenData(i, !1);
        return e.reduce(l, function(t, i) {
            var a = o(i, n, r, s);
            return e.assign(t, a)
        }, u), u || {}
    }

    function a(i, n, r, o) {
        var a = e.get(i, "modes.definitions");
        if (e.isEmpty(a)) return {};
        var l = e.map(a, "modeId"),
            c = e.pick(n, l),
            d = c,
            g = e.find(a, {
                type: t.siteConstants.COMP_MODES_TYPES.DEFAULT
            }),
            h = e.find(a, {
                type: t.siteConstants.COMP_MODES_TYPES.HOVER
            });
        if (r && h && !c[g.modeId]) return u(i, o, h);
        var f = e(a).filter({
                type: t.siteConstants.COMP_MODES_TYPES.SCROLL
            }).sortBy("params.scrollPos").value(),
            p = e(a).filter({
                type: t.siteConstants.COMP_MODES_TYPES.WIDTH
            }).sortBy("params.width").value(),
            m = e.compact([].concat(g, h));
        return d = e.assign({}, d, s(c, m), s(c, f), s(c, p))
    }

    function s(t, i) {
        var n = {},
            r = e.some(i, function(e) {
                return t[e.modeId]
            });
        return i.length && !r && (n[e.head(i).modeId] = !0), n
    }

    function u(e, t, i) {
        var n = {},
            r = e.propertyQuery,
            o = r && t && t[r];
        return n[o && o.mobileDisplayedModeId || i.modeId] = !0, n
    }
    return {
        getActiveComponentModeIds: function(t, i) {
            var n = e.map(i, "modeId");
            return e(t).pick(n).pickBy().value()
        },
        getModeChanges: function(t, i) {
            t = t || {}, i = i || {};
            var n = e({}).assign(t, i).keys().value();
            return e.transform(n, function(e, n) {
                var r = t[n],
                    o = i[n];
                r && !o ? e[n] = !1 : !r && o && (e[n] = !0)
            }, {})
        },
        isCompVisibleAfterRemovalFromMode: function(n, r, o, a, s) {
            var u = n.componentStructure.getModes(o),
                l = r.isExist(u) && r.get(u);
            if (!l) return !0;
            var c = n.componentStructure.getModesDefinitions(a),
                d = r.get(c),
                g = t.objectUtils.cloneDeep(l),
                h = e.findIndex(l.overrides, function(t) {
                    return e.isEqual(t.modeIds, [s])
                });
            return g.overrides = g.overrides || [], h >= 0 ? g.overrides[h].isHiddenByModes = !0 : g.overrides.push({
                modeIds: [s],
                isHiddenByModes: !0
            }), !i(d, g)
        },
        resolveCompActiveModesRecursive: o
    }
}), define("siteUtils/core/linkUtils", ["lodash", "coreUtils", "wixUrlParser"], function(e, t, i) {
    function n(e) {
        var t = "mailto:" + (e.recipient && e.recipient.trim() || ""),
            i = [];
        return e.subject && i.push("subject=" + e.subject), e.body && i.push("body=" + e.body), i.length > 0 && (t += "?" + i.join("&")), t
    }

    function r(i, n) {
        var r, o = i.docId,
            a = /\.pdf$/i.test(o),
            s = n.serviceTopology.staticDocsUrl;
        return e.includes(o, "ugd/") && e.includes(s, "/ugd") && (o = o.substr(o.indexOf("ugd") + 4)), r = s + "/" + o, a || (r += "?" + t.urlUtils.toQueryString({
            dn: i.name
        })), r
    }

    function o(e) {
        return "tel:" + e.phoneNumber
    }

    function a(t) {
        var i = {};
        return t.link && (i = e.pick(t.link, d[t.link.type]), e.isObject(i.pageId) && (i.pageId = "#" + i.pageId.id), e.isObject(i.anchorDataId) && (i.anchorDataId = "#" + i.anchorDataId.id)), i
    }

    function s(t, i, a) {
        if (i) switch (i.type) {
            case "PageLink":
                i.pageId ? l(t, i.pageId.replace("#", ""), t.getSiteData().getAllPageIds(), !1, void 0, e.noop, a) : a && a({
                    error: {
                        message: "missing pageId property for PageLink"
                    }
                });
                break;
            case "AnchorLink":
                u(t, i, a);
                break;
            case "ExternalLink":
                break;
            case "EmailLink":
                window.location.href = n(i);
                break;
            case "PhoneLink":
                window.location.href = o(i);
                break;
            case "DocumentLink":
                var s = r(i, t.getSiteData());
                window.open(s, "_self");
                break;
            case "DynamicPageLink":
                c(t, i, i.anchorDataId)
        }
    }

    function u(t, i, n) {
        if (i.pageId) {
            var r = i.pageId.replace("#", "");
            t.getSiteData().getPrimaryPageId() === r || t.getSiteData().MASTER_PAGE_ID === r ? t.scrollToAnchor(i.anchorDataId) : l(t, r, t.getSiteData().getAllPageIds(), !1, i.anchorDataId, e.noop, n)
        } else n && n({
            error: {
                message: "missing pageId property for AnchorLink"
            }
        })
    }

    function l(t, i, n, r, o, a, s) {
        if (e.includes(n, i)) {
            t.getSiteAspect("actionsAspect").registerNavigationComplete(a);
            var u = {
                pageId: i
            };
            r && (u.transition = "none"), o && (u.anchorData = o), t.navigateToPage(u)
        } else s && s({
            error: {
                message: 'Page id "' + i + '" was not found.'
            }
        })
    }

    function c(e, t, n) {
        var r = i.getUrl(e.getSiteData(), t),
            o = i.parseUrl(e.getSiteData(), r);
        n && (o.anchorData = n), e.navigateToPage(o, !1, !1)
    }
    var d = {
        PageLink: ["type", "pageId"],
        AnchorLink: ["type", "anchorName", "anchorDataId", "pageId"],
        ExternalLink: ["type", "target", "url"],
        EmailLink: ["type", "recipient", "subject"],
        PhoneLink: ["type", "phoneNumber"],
        DocumentLink: ["type", "docId", "name"],
        DynamicPageLink: ["type", "routerId", "innerRoute", "anchorDataId"]
    };
    return {
        getEmailLink: n,
        getDocumentLink: r,
        getPhoneLink: o,
        navigateToLink: s,
        navigateToPage: l,
        getRelevantLinkDataFromMenuItem: a
    }
}), define("siteUtils/core/linkRenderer", ["lodash", "wixUrlParser", "coreUtils", "experiment", "siteUtils/core/linkUtils"], function(e, t, i, n, r) {
    function o(e, r) {
        var o = r.url;
        return n.isOpen("sv_dpages", e) && (o = "/" === o ? e.publicBaseUrl : o), i.validationUtils.isValidUrl(o) ? (o = t.normalizeProtocolForSameSite(e, o), {
            href: o,
            target: r.target || I,
            "data-content": o,
            "data-type": "external"
        }) : {}
    }

    function a(i, n, r) {
        var o = n.pageId;
        if (!o) return {};
        var a = r || {
            pageId: o.id,
            title: o.pageUriSEO
        };
        n.queryParams && e.assign(a, {
            queryParams: n.queryParams
        });
        var s = t.getUrl(i, a),
            u = {
                href: s,
                target: P
            };
        return p(i, o.id) && e.assign(u, {
            href: M,
            "data-no-physical-url": s
        }), u
    }

    function s(i, n) {
        if (!n.routerId) return {};
        var r = {
            routerId: n.routerId,
            innerRoute: n.innerRoute
        };
        n.queryParams && e.assign(r, {
            queryParams: n.queryParams
        });
        var o = {
            href: t.getUrl(i, r),
            target: P
        };
        return n.anchorDataId && (o["data-anchor"] = n.anchorDataId), o
    }

    function u(e, t) {
        return a(e, t)
    }

    function l(t, n, r) {
        var o, s = "masterPage" === n.pageId.id,
            l = e.clone(n),
            c = e.has(n.anchorDataId, "id") ? n.anchorDataId.id : n.anchorDataId,
            d = e.includes(i.siteConstants.SAME_PAGE_SCROLL_ANCHORS, c) || s,
            g = r.imageZoom,
            h = p(t, r.pageId);
        return o = d ? g || h ? a(t, {
            pageId: t.pagesDataItemsMap[t.primaryPageId]
        }) : a(t, l, r) : u(t, l), h || (o["data-keep-roots"] = !0), o["data-anchor"] = c, o
    }

    function c(e) {
        return {
            href: r.getPhoneLink(e),
            "data-content": e.phoneNumber,
            "data-type": "phone"
        }
    }

    function d(e) {
        return {
            href: r.getEmailLink(e),
            target: P,
            "data-content": e.recipient,
            "data-type": "mail"
        }
    }

    function g(e, t) {
        return {
            href: r.getDocumentLink(t, e),
            target: I,
            "data-type": "document"
        }
    }

    function h(t, n) {
        var r, o, a, s = n.postLoginUrl || "",
            u = n.postSignupUrl || "",
            l = n.dialog || "showLogin",
            c = "";
        return e.includes(u, "ifcontext") && (a = i.urlUtils.parseUrl(u).query, e.forOwn(a, function(e, t) {
            "ifcontext" === t.toLowerCase() && (c = e.replace("#", ""), u = /^[a-zA-Z0-9]+$/.test(c) ? u.replace("{ifcontext}", c) : u.replace("{ifcontext}", "illegalContextValue"))
        })), i.wixUserApi.isSessionValid(t.cookie) ? o = s : ("createUser" === l && (l = "sign-up"), r = {
            originUrl: t.currentUrl.full,
            postLogin: s,
            postSignUp: u,
            view: l,
            overrideLocale: t.languageCode
        }, e.forEach(U, function(t, i) {
            var o = n[t];
            e.isUndefined(o) || "" === o || (r[i] = o)
        }), o = b + i.urlUtils.toQueryString(r)), {
            href: o,
            target: P
        }
    }

    function f(e, t) {
        return {
            href: e.currentUrl.full,
            target: "_self",
            "data-mobile": t.dataMobile
        }
    }

    function p(e, t) {
        var i = e.pagesDataItemsMap[t];
        return i && i.isPopup
    }

    function m(e) {
        return !!e && 0 === e.indexOf("mailto")
    }

    function v(e, i) {
        if (!i) return !1;
        var n = t.utils.getResolvedSiteData(e),
            r = !!t.parseUrl(n, i),
            o = 0 === i.indexOf(n.serviceTopology.staticDocsUrl),
            a = i === M;
        return !(r || m(i) || o || a)
    }

    function y(e) {
        return "PageLink" === e.type && !e.pageId || "AnchorLink" === e.type && !e.pageId || "AnchorLink" === e.type && !e.anchorDataId || "DocumentLink" === e.type && !e.docId || "DynamicPageLink" === e.type && !e.routerId
    }

    function S(e) {
        return !!e && "/" === e.charAt(0)
    }

    function w(e, t, i) {
        var n = [];
        return e && n.push("galleryId:" + e), t && n.push("propertyQuery:" + t), i && n.push("galleryCompId:" + i), n.join(" ")
    }
    var P = "_self",
        I = "_blank",
        b = "https://users.wix.com/signin?",
        M = "javascript:void()",
        U = {
            sendEmail: "sendMail",
            welcomeEmailTemplate: "mailTemplate",
            userColor: "userColor",
            loginCompName: "loginCompName",
            referralInfo: "loginCompName"
        };
    return {
        renderLink: function(e, i, n) {
            if (!e || y(e) || !n) return {};
            var r = t.utils.getResolvedSiteData(i);
            switch (e.type) {
                case "PageLink":
                    return u(r, e);
                case "ExternalLink":
                    return o(r, e);
                case "AnchorLink":
                    return l(r, e, n);
                case "LoginToWixLink":
                    return h(r, e);
                case "EmailLink":
                    return d(e);
                case "PhoneLink":
                    return c(e);
                case "DocumentLink":
                    return g(r, e);
                case "SwitchMobileViewMode":
                    return f(r, e);
                case "DynamicPageLink":
                    return s(r, e);
                default:
                    return {}
            }
        },
        renderImageZoomLink: function(i, r, o, a, s, u) {
            var l, c, d;
            d = n.isOpen("sv_dpages", i) ? e.assign({
                pageItemId: o.id,
                title: o.title,
                imageZoom: !0
            }, r) : {
                pageId: r.pageId,
                pageItemId: o.id,
                title: o.title,
                imageZoom: !0
            };
            var g = t.utils.getResolvedSiteData(i);
            c = {
                href: l = t.getUrl(g, d),
                target: P
            }, p(g, d.pageId) && (c.href = M, c["data-no-physical-url"] = l);
            var h = w(a, s, u);
            return h && (c["data-page-item-context"] = h), c
        },
        renderPageLink: function(e, i) {
            return u(t.utils.getResolvedSiteData(i), {
                pageId: e
            })
        },
        isExternalLink: v,
        isRelativeUrl: S,
        isEmailLink: m,
        getLinkUrlFromLinkProps: function(e) {
            return e.href === M ? e["data-no-physical-url"] : e.href
        },
        CONSTS: {
            LOGIN_TO_WIX_URL: b
        }
    }
}), define("siteUtils/core/menuUtils", ["lodash", "siteUtils/core/linkRenderer", "coreUtils", "wixUrlParser"], function(e, t, i, n) {
    function r(n, r, o, a, s) {
        if (!n) return n;
        if (e.isString(n)) return {};
        var u = i.objectUtils.cloneDeep(n);
        return o && (u.render = t.renderLink(u, s || r, a)), u
    }

    function o(e, i, n, r, o) {
        var a = {
            type: "PageLink",
            pageId: e
        };
        return n && (a.render = t.renderLink(a, o || i, r)), a
    }

    function a(t, i, n, o, s, u, l) {
        return e.reduce(t, function(e, t) {
            var c = r(t.link, i, o, s, l);
            return (!n || n && c && "PageLink" === c.type) && e.push({
                id: t.id,
                label: t.label,
                isVisible: t.isVisible,
                isVisibleMobile: t.isVisibleMobile,
                items: a(t.items, i, n, o, s, u, l),
                link: c
            }), e
        }, [])
    }

    function s(t, i, n, r, a) {
        var u, l = [];
        return e.forEach(t, function(e) {
            u = i.getDataByQuery(e.refId) || {}, l.push({
                label: u.title,
                isVisible: !u.hidePage,
                isVisibleMobile: void 0 !== u.mobileHidePage ? !u.mobileHidePage : !u.hidePage,
                items: s(e.items, i, n, r, a),
                link: o(e.refId, i, n, r, a)
            })
        }), l
    }

    function u(t, i, r, o, u) {
        var l, c = t.getDataByQuery("CUSTOM_MAIN_MENU"),
            d = t.getDataByQuery("MAIN_MENU");
        return r || (l = n.utils.getResolvedSiteData(t)), !c || d && !e.isEmpty(d.items) ? s(d.items, t, !r, o, l) : a(c.items, t, i, !r, o, u, l)
    }

    function l(e, t, i) {
        return u(e, t, !1, i)
    }

    function c(e, t, i) {
        return u(e, t, !0, {}, i)
    }

    function d(t) {
        return e.reduce(t, function(e, t) {
            return e > t ? e : t
        }, -1 / 0)
    }

    function g(t) {
        return e.filter(t, function(e) {
            return 0 !== e
        })
    }

    function h(t) {
        return e.reduce(t, function(e, t) {
            return e < t ? e : t
        })
    }

    function f(t) {
        var i = 0;
        return e.reduce(c(t, null, !1), function(e, t) {
            return t.isVisible && (e.push(i.toString()), i++), e
        }, [])
    }

    function p(t, i, n, r, o, a, s, u) {
        if (t -= o * (s ? r.length : r.length - 1), t -= u.left + u.right, i && e.fill(r, a), e.includes(r, 0)) return null;
        var l = 0,
            c = e.reduce(r, function(e, t) {
                return e + t
            }, 0);
        if (c > t) return null;
        if (i) {
            if (n) {
                var d = Math.floor(t / r.length),
                    g = e.times(r.length, e.constant(d));
                if ((l = d * r.length) < t) {
                    var h = Math.floor(t - l);
                    e.forEach(r, function(e, t) {
                        t <= h - 1 && g[t]++
                    })
                }
                return g
            }
            return r
        }
        if (n) {
            var f = Math.floor((t - c) / r.length);
            l = 0;
            var p = e.map(r, function(e) {
                return l += e + f, e + f
            });
            if (l < t) {
                var m = Math.floor(t - l);
                e.forEach(r, function(e, t) {
                    t <= m - 1 && p[t]++
                })
            }
            return p
        }
        return r
    }

    function m(t, i, n) {
        if (!t) return null;
        var r = t.activeAnchorComp.id,
            o = e(i).filter(function(t) {
                return t.link && e.isObject(t.link.anchorDataId) && "AnchorLink" === t.link.type && e.has(t.link.pageId, "id") && t.link.pageId.id === n
            }).find({
                link: {
                    anchorDataId: {
                        id: r
                    }
                }
            });
        return o ? o.link.anchorDataId.id : null
    }

    function v(e) {
        return e.browserFlags().highlightAnchorsInMenu
    }
    return {
        getDropDownWidthIfOk: p,
        getMaxWidth: d,
        getMinWidth: h,
        removeAllElementsWithWidthZero: g,
        nonHiddenPageIdsFromMainMenu: f,
        getSiteMenuWithRender: l,
        getSiteMenuWithoutRenderedLinks: c,
        getActiveAnchorInPage: m,
        shouldHighlightAnchorInPage: v
    }
}), define("siteUtils/core/positionAndSizeUtils", ["lodash", "coreUtils", "siteUtils/core/layoutUtils"], function(e, t, i) {
    function n(n) {
        function r(i, n, r, o) {
            return i.fixedPosition ? r.width : t.dockUtils.isHorizontalDockToScreen(i) ? e.max([r.width, o]) : n.width
        }

        function o(e, i, n) {
            return e.fixedPosition || t.dockUtils.isVerticallyDockToScreen(e) ? n.height : i.height
        }

        function a(t, i, r, o) {
            r = e.max([r, o]);
            var a = (t && t.pct && t.pct / 100 * i || 0) + (t && t.px || 0) + (t && t.vw && t.vw / 100 * r || 0);
            return n ? Math.ceil(a) : a
        }

        function s(e, t, i) {
            var r = (e.pct && e.pct / 100 * t || 0) + (e.px || 0) + (e.vh && e.vh / 100 * i || 0);
            return n ? Math.ceil(r) : r
        }

        function u(e, t, n, o) {
            if (i.isHorizontallyStretched(e)) {
                var s = r(e, t, n, o),
                    u = e.docked;
                return s - (a(u.left, s, n.width, o) + a(u.right, s, n.width, o))
            }
            return e.width
        }

        function l(e, t, n, r) {
            if (i.isAspectRatioOn(e)) return r * e.aspectRatio;
            if (i.isVerticallyStretched(e)) {
                var a = o(e, t, n),
                    u = e.docked;
                return a - (s(u.top, a, n.height) + s(u.bottom, a, n.height))
            }
            return e.height
        }

        function c(e, t, i, n) {
            return l(e, t, i, u(e, t, i, n))
        }

        function d(t, i) {
            return e.max([(t - i) / 2, 0])
        }

        function g(i, n, o, s, u, l) {
            var c = i.docked;
            if (c) {
                var g = r(i, n, o, s);
                if (c.left) {
                    var h = a(c.left, g, o.width, s);
                    return t.dockUtils.isHorizontalDockToScreen(i) && (h -= e.isUndefined(u) ? d(o.width, s) : u), h
                }
                if (c.right) return g - (l + a(c.right, g, o.width, s));
                if (c.hCenter) return (g - l) / 2 + a(c.hCenter, g, o.width, s)
            }
            return i.x
        }

        function h(e, t, n, r) {
            var a = e.docked;
            if (a) {
                var u = o(e, t, n);
                if (i.isVerticallyStretchedToScreen(e)) return e.y;
                if (a.top) return s(a.top, u, n.height);
                if (a.bottom) return u - (r + s(a.bottom, u, n.height));
                if (a.vCenter) return (u - r) / 2 + s(a.vCenter, u, n.height)
            }
            return e.y
        }

        function f(t, i, n, r, o) {
            if (!t.docked && !t.aspectRatio) return e.pick(t, ["x", "y", "width", "height"]);
            var a = u(t, i, n, r),
                s = l(t, i, n, a);
            return {
                x: g(t, i, n, r, o, a),
                y: h(t, i, n, s),
                width: a,
                height: s
            }
        }
        return {
            getYInPixels: h,
            getHeightInPixels: c,
            getPositionAndSize: f
        }
    }
    var r = n(!1),
        o = n(!0);
    return Object.freeze(r), Object.freeze(o), {
        getYInPixelsRounded: o.getYInPixels,
        getHeightInPixelsRounded: o.getHeightInPixels,
        getPositionAndSizeRounded: o.getPositionAndSize,
        getYInPixels: r.getYInPixels,
        getHeightInPixels: r.getHeightInPixels,
        getPositionAndSize: r.getPositionAndSize
    }
}), define("siteUtils/core/structureDimensions", ["lodash", "siteUtils/core/positionAndSizeUtils"], function(e, t) {
    function i(t) {
        var i = {};
        return i[t.id] = e.pick(t.layout, ["x", "y", "width", "height"]), i
    }

    function n(i, r, o, a, s) {
        var u = r[a],
            l = i.components || i.children;
        e.forEach(l, function(e) {
            r[e.id] = t.getPositionAndSize(e.layout, u, o, s), n(e, r, o, i.id, s)
        })
    }

    function r(e, t, r) {
        var o = i(e);
        return n(e, o, t, e.id, r), o
    }

    function o(r, o, a) {
        var s = i(r),
            u = s[r.id];
        return e.forEach(r.mobileComponents, function(e) {
            s[e.id] = t.getPositionAndSize(e.layout, u, o, a), n(e, s, o, e.id, a)
        }), s
    }

    function a(e, t, i, n) {
        return n ? o(e, t, i) : r(e, t, i)
    }
    return {
        createDimensionsMap: a
    }
}), define("siteUtils/core/socialCounterDatabaseAPI", ["lodash", "coreUtils"], function(e, t) {
    var i = {
        defaultQuerySuccessCallback: function() {},
        defaultQueryCollectFailureCallback: function() {},
        getLikesForPostsList: function(e, i, n) {
            var r = {
                postsList: e
            };
            t.ajaxLibrary.ajax({
                type: "GET",
                url: "https://www.wix.com/_api/blog-social-counters/query-feed/",
                crossDomain: !0,
                data: r,
                contentType: "application/json",
                dataType: "json",
                success: i || this.defaultQuerySuccessCallback,
                error: n || this.defaultQueryCollectFailureCallback
            })
        },
        getAllCountersForPost: function(e, i, n, r) {
            var o = {
                storeId: e,
                postId: i
            };
            t.ajaxLibrary.ajax({
                type: "GET",
                url: "https://www.wix.com/_api/blog-social-counters/query-post/",
                crossDomain: !0,
                data: o,
                contentType: "application/json",
                dataType: "json",
                success: n || this.defaultQuerySuccessCallback,
                error: r || this.defaultQueryCollectFailureCallback
            })
        },
        updateCounter: function(i, n, r, o, a, s, u) {
            "likes" === i && this.toggleUserLike(a);
            var l = n;
            e.isNil(l) || (l = l.substring(0, 1400));
            var c = {
                storeId: o.datastoreId,
                postId: a,
                counterType: i,
                counterName: l,
                counterValue: r
            };
            t.ajaxLibrary.ajax({
                url: "https://www.wix.com/_api/blog-social-counters/collector/",
                crossDomain: !0,
                type: "POST",
                data: c,
                dataType: "json",
                contentType: "application/json",
                success: s || this.defaultQuerySuccessCallback,
                error: u || this.defaultQueryCollectFailureCallback
            })
        },
        updateCategoryTagSearchesCounter: function(e, t, i) {
            this.updateCounter(e, t, i)
        },
        toggleUserLike: function(t) {
            var i = JSON.parse(window.localStorage.getItem("likedBlogPosts")) || {};
            !1 !== i[t] && e.has(i, t) ? i[t] = !1 : i[t] = !0, window.localStorage.setItem("likedBlogPosts", JSON.stringify(i))
        }
    };
    return {
        getAllCountersForPost: i.getAllCountersForPost,
        updateCounter: i.updateCounter,
        toggleUserLike: i.toggleUserLike,
        updateCategoryTagSearchesCounter: i.updateCategoryTagSearchesCounter
    }
}), define("siteUtils/core/socialShareHandler", ["lodash", "coreUtils", "siteUtils/core/socialCounterDatabaseAPI"], function(e, t, i) {
    function n(t, i) {
        var n = t.split("#"),
            r = e.includes(t, "?") ? "&" : "?";
        return n[0] += r + i, n.join("#")
    }

    function r(e, t) {
        var i = e,
            n = i.split("#!");
        return n.length > 1 && (n[1] = decodeURIComponent(n[1]), i = n.join("#!")), t && (i = i.replace("#!", "/#!")), encodeURIComponent(i)
    }

    function o(t) {
        return t ? encodeURIComponent(e.unescape(t)) : ""
    }

    function a(t) {
        return t ? encodeURIComponent(e.unescape(t)) : ""
    }

    function s(e) {
        return e ? " " + (e = e.replace(/#/g, encodeURIComponent("#"))) : ""
    }

    function u(e, i) {
        var n = e || "";
        return e && !t.urlUtils.isExternalUrl(e) && (n = i.getMediaFullStaticUrl(e)), n = encodeURIComponent(n)
    }

    function l(e) {
        var t = w;
        return t += r(e.url)
    }

    function c(e, t) {
        var i = P;
        return i += r(e.url), i += "&Title=" + o(e.title), i += "&ImageURL=" + u(e.imageUrl, t)
    }

    function d(e, t) {
        var i = I;
        return i += r(e.url), i += "&media=" + u(e.imageUrl, t), i += "&description=" + o(e.title)
    }

    function g(e) {
        var t = b;
        return t += r(e.url), t += "&text=" + o(e.title) + s(e.hashTags) + encodeURIComponent("\n")
    }

    function h(e) {
        var t = M;
        return t += r(e.url), t += "&title=" + o(e.title), t += "&description=" + a(e.description)
    }

    function f(e) {
        var t = U;
        return t += o(e.title), t += " - " + r(e.url)
    }

    function p(e) {
        var t = T;
        return t += r(e.url), t += "&title=" + o(e.title)
    }

    function m(e) {
        var t = "mailto:?";
        return t += "&subject=" + o(e.title), t += "&body=" + a(e.description)
    }

    function v(e, t) {
        return {
            google: l,
            fancy: c,
            pinterest: d,
            twitter: g,
            facebook: h,
            whatsapp: f,
            email: m,
            linkedin: p
        }[e.service](e, t) || ""
    }

    function y(e, t, r) {
        var o = v(t, e.getSiteData());
        t.addDeepLinkParam && (o = n(o, "deeplink_referrer=socialB_" + t.service)), "email" !== t.service ? (r || i.updateCounter("shares", t.service, 1, t.storeId, t.postId), e.openPopup(o, "wixapps_share", "width=635,height=346,scrollbars=no,status=no,toolbar=no,menubar=no,location=no")) : window.location.href = o
    }

    function S(e, i, n, r) {
        t.ajaxLibrary.ajax({
            url: D,
            type: "POST",
            contentType: "application/json",
            data: '{"longUrl": "' + e + '"}',
            timeout: i || 0,
            async: !1,
            success: function(e) {
                n(e.id)
            },
            error: r
        })
    }
    var w = "https://plus.google.com/share?url=",
        P = "http://www.fancy.com/fancyit/fancy?ItemURL=",
        I = "http://pinterest.com/pin/create/button/?url=",
        b = "https://twitter.com/intent/tweet?url=",
        M = "http://www.facebook.com/sharer.php?u=",
        U = "whatsapp://send?text=",
        D = "https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyDjvIfgLnQJsOxcV01kJae48WSynmXmZ2I",
        T = "https://www.linkedin.com/shareArticle?mini=true&url=";
    return {
        handleShareRequest: y,
        shortenURL: S
    }
}), define("siteUtils/core/componentVisibility", ["lodash"], function(e) {
    function t(e) {
        n.push(e)
    }

    function i(t) {
        return e.every(n, function(e) {
            return e(t)
        })
    }
    var n = [];
    return {
        isComponentVisible: i,
        registerPlugin: t
    }
}), define("siteUtils/core/fileUploadManager", ["lodash"], function(e) {
    function t(e, t) {
        var i = JSON.parse(t.response);
        200 === t.status ? (e.onSuccess(i), r()) : (s = !1, e.onFail(i))
    }

    function i(e, i, n) {
        var r = l[e.fileType],
            o = new FormData;
        o.append("upload_token", i), o.append("media_type", r), o.append("file", e.file), o.append("siteMediaToken", i), o.append("ns", u);
        var a = new XMLHttpRequest;
        a.onreadystatechange = function() {
            a.readyState === XMLHttpRequest.DONE && t(e, a)
        }, a.open("POST", n), a.send(o)
    }

    function n(e) {
        var t = new XMLHttpRequest;
        t.onreadystatechange = function() {
            if (t.readyState === XMLHttpRequest.DONE) {
                var n = JSON.parse(t.response);
                n.error_code ? (s = !1, e.onFail(n)) : i(e, n.upload_token, n.upload_url)
            }
        }, t.open("GET", "https://files.wix.com/files/upload/url?media_type=picture"), t.setRequestHeader("Authorization", e.authorizationToken), t.setRequestHeader("Accept", "application/json"), t.setRequestHeader("Content-Type", "application/json"), t.send(null)
    }

    function r() {
        0 !== a.length ? n(e.pullAt(a, 0)[0]) : s = !1
    }

    function o(e, t, i, n, o) {
        if (!t) throw new Error("No upload authorization token given!");
        a = a.concat({
            file: e,
            authorizationToken: t,
            fileType: i,
            onSuccess: n,
            onFail: o
        }), s || (r(), s = !0)
    }
    var a = [],
        s = !1,
        u = "_WixCodeAnonymUpload",
        l = {
            Image: "picture",
            Document: "document"
        };
    return {
        uploadFile: o
    }
}), define("siteUtils/core/compAlignmentUtils", [], function() {
    var e = {
            LEFT: "left",
            CENTER: "center",
            RIGHT: "right"
        },
        t = {
            TOP: "top",
            CENTER: "center",
            BOTTOM: "bottom"
        };
    return {
        getLeft: function(t, i, n, r) {
            var o, a = Math.min(r, n),
                s = (n - r) / 2;
            switch (t.horizontalAlignment) {
                case e.LEFT:
                    o = -Math.max(0, s), o += t.horizontalOffset;
                    break;
                case e.RIGHT:
                    o = a - i + Math.max(0, s), o -= t.horizontalOffset;
                    break;
                case e.CENTER:
                    o = (a - i) / 2, o += t.horizontalOffset
            }
            return o
        },
        getTop: function(e, i, n) {
            var r, o = n - i;
            switch (e.verticalAlignment) {
                case t.TOP:
                    r = e.verticalOffset;
                    break;
                case t.BOTTOM:
                    r = Math.max(o - e.verticalOffset, 0);
                    break;
                case t.CENTER:
                    r = Math.max(o / 2, 0), r += e.verticalOffset
            }
            return r
        }
    }
}), define("siteUtils", ["coreUtils", "siteUtils/utils/mobileUtils", "siteUtils/utils/touchMediaZoomUtils", "siteUtils/svgShapes/svgFeatureDetection", "siteUtils/core/MobileDeviceAnalyzer", "siteUtils/core/SiteData", "siteUtils/core/componentsAnchorsMetaData", "siteUtils/core/layoutAnchorsUtils", "siteUtils/core/originalValuesMapGenerator", "siteUtils/core/fullToDisplayedJson", "siteUtils/core/modesUtils", "siteUtils/core/linkRenderer", "siteUtils/core/linkUtils", "siteUtils/core/menuUtils", "siteUtils/core/layoutUtils", "siteUtils/core/positionAndSizeUtils", "siteUtils/core/structureDimensions", "siteUtils/core/socialShareHandler", "siteUtils/core/socialCounterDatabaseAPI", "siteUtils/core/componentVisibility", "siteUtils/core/fileUploadManager", "siteUtils/core/pagesUrlUtils", "siteUtils/core/compAlignmentUtils", "siteUtils/core/siteStructureRmiUtils"], function(e, t, i, n, r, o, a, s, u, l, c, d, g, h, f, p, m, v, y, S, w, P, I, b) {
    return {
        renderDoneMixin: e.renderDoneMixin,
        mobileUtils: t,
        touchMediaZoomUtils: i,
        MobileDeviceAnalyzer: r,
        SiteData: o,
        componentsAnchorsMetaData: a,
        layoutAnchors: s,
        originalValuesMapGenerator: u,
        constants: e.constants,
        fullToDisplayedJson: l,
        modes: c,
        linkRenderer: d,
        linkUtils: g,
        menuUtils: h,
        layout: f,
        positionAndSize: p,
        structureDimensions: m,
        socialShareHandler: v,
        socialCounterDatabaseAPI: y,
        componentVisibility: {
            isComponentVisible: S.isComponentVisible,
            registerPlugin: S.registerPlugin
        },
        svgFeatureDetection: n,
        fileUploadManager: w,
        compAlignmentUtils: I,
        pagesUrlUtils: P,
        siteStructureUtils: b
    }
});
//# sourceMappingURL=siteUtils.min.js.map